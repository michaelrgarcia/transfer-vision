{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./node_modules/wait-for-element-transition/dist/wait-for-element-transition.js","webpack://webpack-template/./src/public/apiHitters/cids.js","webpack://webpack-template/./src/public/domFunctions/cssTransitions.js","webpack://webpack-template/./src/public/domFunctions/elementPresets.js","webpack://webpack-template/./src/index.ts","webpack://webpack-template/./src/interfaces/assistDataCheckers.ts","webpack://webpack-template/./src/public/apiHitters/articulationFetcher.ts","webpack://webpack-template/./src/public/apiHitters/schoolDataFetch.ts","webpack://webpack-template/./src/public/domFunctions/assistDataRender.ts","webpack://webpack-template/./src/public/utils.ts","webpack://webpack-template/webpack/bootstrap","webpack://webpack-template/webpack/runtime/compat get default export","webpack://webpack-template/webpack/runtime/define property getters","webpack://webpack-template/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-template/webpack/runtime/make namespace object","webpack://webpack-template/webpack/startup"],"sourcesContent":["/*!\n  * Wait-for-element-transition v3.3.1\n  * https://github.com/markcellus/wait-for-element-transition#readme\n  *\n  * Copyright (c) 2022 Mark\n  * Licensed under the MIT license\n */\n\n/**\r\n * Takes a value and separates the number and unit into a key/value map.\r\n */\r\nconst getCssPropUnitMap = (v) => {\r\n    v = v.trim();\r\n    const numParts = v.match('[0-9.]+');\r\n    let unit = 'ms';\r\n    let num;\r\n    const numString = numParts ? numParts[0] : '';\r\n    if (numString) {\r\n        unit = v.split(numString)[1];\r\n        num = Number(numString);\r\n    }\r\n    return {\r\n        num,\r\n        unit,\r\n    };\r\n};\r\n/**\r\n * Converts a css timing unit value into milliseconds.\r\n */\r\nconst convertCssTimeValueToMilliseconds = (val) => {\r\n    const map = getCssPropUnitMap(val);\r\n    const num = map ? map.num : undefined;\r\n    if (!num) {\r\n        return '';\r\n    }\r\n    const unit = val.replace(num + '', '');\r\n    let value = num;\r\n    if (unit === 's') {\r\n        value = num * 1000;\r\n    }\r\n    return value + 'ms';\r\n};\r\n/**\r\n * Gets the time is takes for the element to transition to its show state.\r\n */\r\nfunction getTransitionDuration(el) {\r\n    /**\r\n     * Takes a css property name and returns the javascript version of it.\r\n     */\r\n    const getJsPropName = (cssProp) => {\r\n        // convert to camelCase\r\n        return cssProp.replace(/-([a-z])/g, (letter) => {\r\n            return letter[1].toUpperCase();\r\n        });\r\n    };\r\n    /**\r\n     * Gets the computed property of the element.\r\n     */\r\n    const getCssComputedProperty = (prop) => {\r\n        const style = window.getComputedStyle(el);\r\n        return (style.getPropertyValue(prop) ||\r\n            el.style[getJsPropName(prop)]);\r\n    };\r\n    const delayProp = getCssComputedProperty('transition-delay') || '0ms';\r\n    const durationProp = getCssComputedProperty('transition-duration') || '0ms';\r\n    const times = Array.isArray(durationProp) ? durationProp : [durationProp];\r\n    const delay = Array.isArray(delayProp) ? delayProp : [delayProp];\r\n    let highest = 0;\r\n    let map;\r\n    times.push.apply(times, delay); // account for delay\r\n    // calculate highest number of time\r\n    times.forEach((value) => {\r\n        value.split(',').forEach((v) => {\r\n            v = convertCssTimeValueToMilliseconds(v);\r\n            map = getCssPropUnitMap(v);\r\n            if (map.num && map.num > highest) {\r\n                highest = map.num;\r\n            }\r\n        });\r\n    });\r\n    return highest;\r\n}\r\n/**\r\n * Builds a transition promise that waits to resolve until the module el's CSS transition is completed (if applicable).\r\n */\r\nfunction waitForElementTransition(el) {\r\n    const duration = getTransitionDuration(el);\r\n    return new Promise((resolve) => {\r\n        if (duration > 0) {\r\n            setTimeout(() => {\r\n                resolve(el);\r\n            }, duration);\r\n        }\r\n        else {\r\n            resolve(el);\r\n        }\r\n    });\r\n}\n\nexport default waitForElementTransition;\n","/* eslint-disable import/no-cycle */\n\nimport {\n  disableCidSection,\n  enableCidSection,\n} from \"../domFunctions/cssTransitions\";\nimport { createListFromDb } from \"./articulationFetcher\";\n\nconst cidsToggle = document.querySelector(\".cids > input\");\n\nasync function appendCids(courseId, articulations) {\n  const endpoint = `${process.env.CID_APPENDER}/${courseId}`;\n\n  disableCidSection();\n\n  const response = await fetch(endpoint, {\n    body: JSON.stringify(articulations),\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  let newArticulations;\n\n  if (response.status === 200) {\n    newArticulations = await response.json();\n    enableCidSection();\n  }\n\n  return newArticulations;\n}\n\nfunction checkForCids(articulations) {\n  for (let i = 0; i < articulations.length; ) {\n    const item = articulations[i];\n\n    if (item.result && checkForCids(item.result)) {\n      return true;\n    }\n\n    if (Array.isArray(item) && checkForCids(item)) {\n      return true;\n    }\n\n    if (\n      item &&\n      item.prefix &&\n      item.courseNumber &&\n      item.courseTitle &&\n      item.cid\n    ) {\n      return true;\n    }\n\n    i += 1;\n  }\n\n  return false;\n}\n\nfunction showCids() {\n  const cidElements = document.querySelectorAll(\".cid\");\n\n  cidElements.forEach((element) => {\n    const cid = element;\n\n    cid.style.display = \"inline\";\n  });\n}\n\nfunction hideCids() {\n  const cidElements = document.querySelectorAll(\".cid\");\n\n  cidElements.forEach((element) => {\n    const cid = element;\n\n    cid.style.display = \"none\";\n  });\n}\n\nasync function toggleCids(courseId, state, linksLength, updateProgress) {\n  const savedArticulations = state.articulations;\n\n  if (cidsToggle.checked) {\n    const hasCids = checkForCids(savedArticulations);\n    if (hasCids) {\n      showCids();\n    } else {\n      const newArticulations = await appendCids(courseId, savedArticulations);\n\n      const articulationsDiv = document.querySelector(\".articulations\");\n\n      articulationsDiv.replaceChildren();\n      createListFromDb(newArticulations, linksLength, updateProgress);\n\n      // eslint-disable-next-line no-param-reassign\n      state.articulations = newArticulations;\n\n      showCids();\n    }\n  } else {\n    hideCids();\n  }\n\n  return savedArticulations;\n}\n\nexport function addToggleListener(\n  courseId,\n  articulations,\n  linksLength,\n  updateProgress,\n) {\n  const state = { articulations };\n\n  const handler = async () =>\n    toggleCids(courseId, state, linksLength, updateProgress);\n\n  cidsToggle.addEventListener(\"change\", handler);\n\n  return handler;\n}\n\nexport function removeToggleListener(handler) {\n  cidsToggle.removeEventListener(\"change\", handler);\n}\n","import waitForElementTransition from \"wait-for-element-transition\";\n\nimport { getRandomLoadingGif } from \"../utils\";\n\nconst dialog = document.querySelector(\"dialog\");\nconst form = document.querySelector(\"form\");\nconst img = document.querySelector(\"img.loading-gif\");\nconst results = document.querySelector(\".results\");\nconst loadingContainer = document.querySelector(\".loading-container\");\nconst backButton = document.querySelector(\".back\");\nconst cidSlider = document.querySelector(\".cid-section\");\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nfunction showLoadingContainer() {\n  loadingContainer.style.opacity = 1;\n  loadingContainer.style.display = \"flex\";\n}\n\nfunction showBackButton() {\n  backButton.style.opacity = 1;\n  backButton.style.display = \"block\";\n}\n\nexport function hideBackButton() {\n  backButton.style.opacity = 0;\n\n  waitForElementTransition(backButton).then(async () => {\n    backButton.style.display = \"none\";\n  });\n}\n\nexport function showDialog() {\n  dialog.showModal();\n  dialog.style.opacity = 1;\n}\n\nexport function closeDialog() {\n  const secondLine = dialog.querySelector(\".cid-second-line\");\n\n  if (secondLine) dialog.removeChild(secondLine);\n\n  dialog.style.height = \"100px\";\n  dialog.style.opacity = 0;\n  dialog.close();\n}\n\nexport function showLoadingText(loadingText) {\n  const loading = loadingText;\n  loading.style.opacity = 1;\n  loading.style.display = \"block\";\n}\n\nexport function hideLoadingText(loadingText) {\n  const loading = loadingText;\n\n  loading.style.opacity = 0;\n  loading.style.display = \"none\";\n}\n\nexport function applyDisabledState(formRow) {\n  const row = formRow;\n\n  const select = row.querySelector(\"select\");\n  const children = row.querySelectorAll(\":not(.loading)\");\n\n  if (select) {\n    select.disabled = true;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n\n    element.setAttribute(\"aria-disabled\", \"true\");\n  });\n}\n\nexport function removeDisabledState(formRow) {\n  const row = formRow;\n\n  const select = row.querySelector(\"select\");\n  const children = row.querySelectorAll(\":not(.loading)\");\n\n  if (select) {\n    select.disabled = false;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n    element.setAttribute(\"aria-disabled\", \"false\");\n  });\n}\n\nexport function startLoading(formRow, loadingText) {\n  applyDisabledState(formRow);\n  showLoadingText(loadingText);\n}\n\nexport function stopLoading(formRow, loadingText) {\n  removeDisabledState(formRow);\n  hideLoadingText(loadingText);\n}\n\nexport function hideSplash() {\n  form.style.opacity = 0;\n  waitForElementTransition(form).then(() => {\n    form.style.display = \"none\";\n  });\n}\n\nexport async function showRandomLoadingGif() {\n  waitForElementTransition(form).then(async () => {\n    await getRandomLoadingGif(img);\n\n    img.style.display = \"block\";\n    img.style.opacity = 1;\n  });\n}\n\nexport function showResults() {\n  waitForElementTransition(form).then(() => {\n    results.style.opacity = 1;\n    showLoadingContainer();\n    showBackButton();\n  });\n\n  results.style.display = \"flex\";\n}\n\nexport function hideLoadingContainer() {\n  // below code block, can turn into hideElement(element) function?\n  loadingContainer.style.opacity = 0;\n\n  waitForElementTransition(loadingContainer).then(() => {\n    loadingContainer.style.display = \"none\";\n  });\n}\n\nexport function hideCidSlider() {\n  cidSlider.style.opacity = 0;\n\n  waitForElementTransition(cidSlider).then(() => {\n    cidSlider.style.display = \"none\";\n  });\n}\n\nexport function hideResults() {\n  results.style.opacity = \"0\";\n\n  waitForElementTransition(results).then(() => {\n    results.style.display = \"none\";\n  });\n}\n\nexport function showSplash() {\n  waitForElementTransition(results).then(() => {\n    form.style.opacity = 1;\n  });\n\n  waitForElementTransition(form).then(() => {\n    form.style.display = \"flex\";\n  });\n}\n\nexport function showCidSlider() {\n  waitForElementTransition(loadingContainer).then(() => {\n    cidSlider.style.opacity = 1;\n  });\n\n  cidSlider.style.display = \"flex\";\n}\n\nexport function disableCidSection() {\n  const cidSection = document.querySelector(\".cid-section\");\n\n  const label = cidSection.querySelector(\".cids\");\n  const toggle = cidSection.querySelector(\".cids > input\");\n\n  const children = label.querySelectorAll(\"*\");\n\n  if (toggle) {\n    toggle.disabled = true;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n\n    element.setAttribute(\"aria-disabled\", \"true\");\n  });\n}\n\nexport function enableCidSection() {\n  const cidSection = document.querySelector(\".cid-section\");\n\n  const label = cidSection.querySelector(\".cids\");\n  const toggle = cidSection.querySelector(\".cids > input\");\n\n  const children = label.querySelectorAll(\"*\");\n\n  if (toggle) {\n    toggle.disabled = false;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n    element.setAttribute(\"aria-disabled\", \"false\");\n  });\n}\n","export function selectOption(value, id, keyword) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = value;\n  option.value = value;\n\n  if (id && keyword) {\n    option.setAttribute(`data-${keyword}`, id);\n  }\n\n  return option;\n}\n\nexport function lowerDivOption(text, value, id) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = text;\n  option.value = value;\n\n  option.setAttribute(\"data-id\", id);\n\n  return option;\n}\n\nexport function defaultOption(keyword) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = `Select a ${keyword}`;\n  option.value = \"\";\n  option.disabled = true;\n  option.selected = true;\n\n  return option;\n}\n\nexport function classListMainDiv() {\n  const articulations = document.querySelector(\".articulations\");\n  const classListDiv = document.createElement(\"div\");\n\n  classListDiv.classList.add(\"class-list\");\n\n  classListDiv.style.display = \"flex\";\n  classListDiv.style.opacity = \"1\";\n\n  articulations.append(classListDiv);\n\n  return classListDiv;\n}\n\nexport function classListHeader(parentDiv, collegeName, agreementLink) {\n  const linkElement = document.createElement(\"a\");\n\n  linkElement.href = agreementLink;\n  linkElement.target = \"_blank\";\n\n  linkElement.textContent = collegeName;\n\n  parentDiv.append(linkElement);\n}\n\nexport function course(className, parent) {\n  const textElement = document.createElement(\"p\");\n\n  textElement.textContent = className;\n  parent.appendChild(textElement);\n\n  return textElement;\n}\n\nexport function connector(text, parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"connector\");\n\n  textElement.textContent = text;\n  parent.appendChild(textElement);\n}\n\nexport function conjunction(text, parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"conjunction\");\n\n  textElement.textContent = text;\n  parent.appendChild(textElement);\n}\n\nexport function noArticulations(parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"no-articulations\");\n\n  textElement.textContent = \"No articulations found.\";\n  parent.appendChild(textElement);\n\n  textElement.style.opacity = 1;\n}\n\nexport function processingPrompt() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent = \"Data may be processing. Try again shortly.\";\n}\n\nexport function cacheFinalizeError() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent = \"Failed to complete search. Try again shortly.\";\n}\n\nexport function cid(cidText) {\n  const spanElement = document.createElement(\"span\");\n\n  spanElement.classList.add(\"cid\");\n  spanElement.textContent = `(${cidText})`;\n\n  return spanElement;\n}\n\nexport function cidPrompt() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent =\n    \"C-IDs (course identification numbers) make it easy to identify equivalent courses across California Community Colleges.\";\n\n  const secondLineDiv = document.createElement(\"div\");\n  secondLineDiv.classList.add(\"cid-second-line\");\n\n  const line2 = document.createElement(\"p\");\n  line2.textContent =\n    \"Some C-IDs may not be visible due to inconsistencies in data. All available data can be found on the \";\n\n  const cidLink = document.createElement(\"a\");\n\n  cidLink.textContent = \"C-ID website.\";\n  cidLink.href = \"https://c-id.net\";\n  cidLink.target = \"_blank\";\n\n  line2.appendChild(cidLink);\n\n  secondLineDiv.appendChild(line2);\n\n  dialog.appendChild(secondLineDiv);\n\n  dialog.style.height = \"250px\";\n}\n","\"use strict\";\n/* eslint-disable no-unused-vars */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst articulationFetcher_1 = require(\"./public/apiHitters/articulationFetcher\");\nconst assistDataRender_1 = require(\"./public/domFunctions/assistDataRender\");\nconst cssTransitions_1 = require(\"./public/domFunctions/cssTransitions\");\nconst utils_1 = require(\"./public/utils\");\nconst cids_1 = require(\"./public/apiHitters/cids\");\nconst elementPresets_1 = require(\"./public/domFunctions/elementPresets\");\nconst schoolList = document.getElementById(\"four-year\");\nconst majorList = document.getElementById(\"major\");\nconst classList = document.getElementById(\"class\");\nconst yearList = document.getElementById(\"academic-year\");\nconst selects = document.querySelectorAll(\"select\");\nconst submit = document.querySelector(\".submit\");\nconst backButton = document.querySelector(\".back\");\nconst closeDialogBtn = document.querySelector(\".close-dialog\");\nconst cidInfo = document.querySelector(\".cid-info\");\ndocument.addEventListener(\"DOMContentLoaded\", () => __awaiter(void 0, void 0, void 0, function* () {\n    for (let i = 2; i < selects.length;) {\n        if (selects[i].parentNode) {\n            (0, cssTransitions_1.applyDisabledState)(selects[i].parentNode);\n            i += 1;\n        }\n    }\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n    (0, assistDataRender_1.renderFourYears)(schoolList);\n    yield (0, cssTransitions_1.showRandomLoadingGif)();\n}));\nyearList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    majorList.replaceChildren();\n    classList.replaceChildren();\n    if (selectedSchool.value) {\n        (0, assistDataRender_1.renderMajorData)(majorList, Number(receivingId), Number(year));\n    }\n    (0, cssTransitions_1.applyDisabledState)(majorList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(classList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nschoolList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    (0, assistDataRender_1.renderMajorData)(majorList, Number(receivingId), Number(year));\n    majorList.replaceChildren();\n    classList.replaceChildren();\n    (0, cssTransitions_1.applyDisabledState)(classList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nmajorList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    const selectedMajor = majorList.options[majorList.selectedIndex];\n    const majorKey = selectedMajor.dataset.key;\n    classList.replaceChildren();\n    (0, assistDataRender_1.renderLowerDivs)(classList, Number(receivingId), majorKey, Number(year));\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nclassList.addEventListener(\"change\", () => {\n    (0, cssTransitions_1.removeDisabledState)(submit.parentNode);\n});\nsubmit.addEventListener(\"click\", (event) => __awaiter(void 0, void 0, void 0, function* () {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    const selectedMajor = majorList.options[majorList.selectedIndex];\n    const majorKey = selectedMajor.dataset.key;\n    const selectedClass = classList.options[classList.selectedIndex];\n    const courseId = selectedClass.dataset.id;\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n    if (classList.value) {\n        const links = yield (0, articulationFetcher_1.getArticulationParams)(Number(receivingId), majorKey, Number(year));\n        const fullCourseId = `${courseId}_${year}`;\n        (0, cssTransitions_1.hideSplash)();\n        if (selectedClass) {\n            (0, utils_1.changeSelectedClassTxt)(selectedClass.textContent);\n            const articulationData = yield (0, articulationFetcher_1.getArticulationData)(links, courseId, Number(year));\n            const { articulations, updateProgress } = articulationData;\n            const toggleHandler = (0, cids_1.addToggleListener)(fullCourseId, articulations, links.length, updateProgress);\n            (0, utils_1.addBackBtnListener)(cids_1.removeToggleListener, toggleHandler);\n        }\n    }\n    event.preventDefault();\n}));\ncloseDialogBtn.addEventListener(\"click\", () => {\n    (0, cssTransitions_1.closeDialog)();\n});\ncidInfo.addEventListener(\"click\", () => {\n    (0, elementPresets_1.cidPrompt)();\n    (0, cssTransitions_1.showDialog)();\n});\nbackButton.addEventListener(\"click\", () => {\n    (0, cssTransitions_1.removeDisabledState)(submit.parentNode);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isLowerDiv = isLowerDiv;\nexports.isSeriesIdObject = isSeriesIdObject;\nexports.isUnfilteredSeries = isUnfilteredSeries;\nexports.isSeries = isSeries;\nexports.isArticulation = isArticulation;\nfunction isLowerDiv(item) {\n    if (typeof item.prefix === \"string\" &&\n        typeof item.courseNumber === \"string\" &&\n        typeof item.courseTitle === \"string\" &&\n        (typeof item.courseId === \"undefined\" ||\n            typeof item.courseId === \"number\") &&\n        (typeof item.cid === \"undefined\" || typeof item.cid === \"string\")) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeriesIdObject(item) {\n    if (typeof item.seriesId === \"string\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isUnfilteredSeriesItem(item) {\n    if (typeof item === \"string\" || isLowerDiv(item) || isSeriesIdObject(item)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isUnfilteredSeries(array) {\n    if (Array.isArray(array) && array.every(isUnfilteredSeriesItem)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeriesItem(item) {\n    if (isLowerDiv(item) || typeof item === \"string\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeries(array) {\n    if (Array.isArray(array) && array.every(isSeriesItem)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isArticulation(item) {\n    if (isLowerDiv(item) || isSeries(item)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n","\"use strict\";\n/* eslint-disable consistent-return */\n/* eslint-disable no-await-in-loop */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getArticulationParams = getArticulationParams;\nexports.createListFromDb = createListFromDb;\nexports.getArticulationData = getArticulationData;\nconst assistDataRender_1 = require(\"../domFunctions/assistDataRender\");\nconst schoolDataFetch_1 = require(\"./schoolDataFetch\");\nconst cssTransitions_1 = require(\"../domFunctions/cssTransitions\");\nconst utils_1 = require(\"../utils\");\nconst elementPresets_1 = require(\"../domFunctions/elementPresets\");\nfunction getArticulationParams(receivingId, majorKey, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const articulationParams = [];\n        const communityColleges = yield (0, schoolDataFetch_1.getCommunityColleges)();\n        communityColleges.forEach((college) => {\n            if (college.id) {\n                const sending = college.id;\n                const link = `${process.env.ASSIST_API_PARAMS}=${year}/${sending}/to/${receivingId}/Major/${majorKey}`;\n                const agreementLink = `${process.env.ASSIST_AGREEMENT_PARAMS}=${year}&institution=${sending}&agreement=${receivingId}&agreementType=to&view=agreement&viewBy=major&viewSendingAgreements=false&viewByKey=${year}/${sending}/to/${receivingId}/Major/${majorKey}`;\n                articulationParams.push({ link, agreementLink });\n            }\n        });\n        return articulationParams;\n    });\n}\nfunction processStream(stream, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const reader = stream.getReader();\n        const decoder = new TextDecoder(\"utf-8\");\n        const streamArticulations = [];\n        let accumulatedData = \"\";\n        while (true) {\n            const { value, done } = yield reader.read();\n            if (done) {\n                break;\n            }\n            const decodedChunk = decoder.decode(value, { stream: true });\n            accumulatedData += decodedChunk;\n            let end = accumulatedData.indexOf(\"\\n\");\n            while (end !== -1) {\n                const jsonString = accumulatedData.slice(0, end);\n                accumulatedData = accumulatedData.slice(end + 1);\n                try {\n                    const articulation = JSON.parse(jsonString);\n                    if (articulation.result) {\n                        (0, assistDataRender_1.createClassLists)(articulation);\n                        streamArticulations.push(articulation);\n                    }\n                    updateProgress(1);\n                }\n                catch (error) {\n                    console.error(`error parsing articulation: ${error}`);\n                }\n                end = accumulatedData.indexOf(\"\\n\");\n            }\n        }\n        return streamArticulations;\n    });\n}\nfunction requestArticulations(links, signal, courseId, year, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let streamArticulations;\n        try {\n            const linksList = JSON.stringify(links);\n            const endpoint = `${process.env.NEW_ARTICULATION_FETCHER}/?courseId=${courseId}&year=${year}`;\n            const response = yield fetch(endpoint, {\n                body: linksList,\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Connection: \"keep-alive\",\n                },\n                signal,\n            });\n            streamArticulations = yield processStream(response.body, updateProgress);\n        }\n        catch (error) {\n            console.error(`error processing stream: ${error}`);\n        }\n        return streamArticulations;\n    });\n}\nfunction processChunks(processingQueue_1, signal_1, courseId_1, updateProgress_1, year_1) {\n    return __awaiter(this, arguments, void 0, function* (processingQueue, signal, courseId, updateProgress, year, assistArticulations = []) {\n        const concurrencyLimit = 29;\n        let linksChunk;\n        if (processingQueue.length === 0)\n            return assistArticulations;\n        if (processingQueue.length < concurrencyLimit) {\n            linksChunk = processingQueue.splice(0, processingQueue.length - 1);\n        }\n        else {\n            linksChunk = processingQueue.splice(0, concurrencyLimit);\n        }\n        try {\n            const streamArticulations = yield requestArticulations(linksChunk, signal, courseId, year, updateProgress);\n            assistArticulations.push(...streamArticulations);\n            return yield processChunks(processingQueue, signal, courseId, updateProgress, year, assistArticulations); // recursive call\n        }\n        catch (error) {\n            if (error.name === \"AbortError\") {\n                console.log(\"aborted request\");\n            }\n            else {\n                console.error(\"error processing chunk:\", error);\n            }\n        }\n    });\n}\nfunction createListFromDb(articulations, linksLength, updateProgress) {\n    for (let i = 0; i < articulations.length;) {\n        const articulation = articulations[i];\n        if (articulation) {\n            (0, assistDataRender_1.createClassLists)(articulation);\n        }\n        i += 1;\n    }\n    updateProgress(linksLength);\n    (0, cssTransitions_1.hideLoadingContainer)();\n    (0, cssTransitions_1.showCidSlider)();\n}\nfunction getClassFromDb(fullCourseId, linksLength, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const courseGrabber = process.env.COURSE_GRABBER;\n        try {\n            const response = yield fetch(`${courseGrabber}/${fullCourseId}`);\n            if (response.status === 200) {\n                const articulations = yield response.json();\n                createListFromDb(articulations, linksLength, updateProgress);\n                return articulations;\n            }\n            if (response.status === 204) {\n                console.log(\"restarting incomplete caching job...\");\n                return false;\n            }\n            if (response.status === 206) {\n                (0, cssTransitions_1.hideLoadingContainer)();\n                (0, elementPresets_1.processingPrompt)();\n                (0, cssTransitions_1.showDialog)();\n                return true;\n            }\n        }\n        catch (err) {\n            console.error(\"error getting class from db\", err);\n        }\n        return false;\n    });\n}\nfunction finalizeSearch(fullCourseId, articulations) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const cacheFinalizer = process.env.CACHE_COMPLETER;\n        if (articulations) {\n            (0, assistDataRender_1.organizeArticulations)();\n            try {\n                yield fetch(cacheFinalizer, {\n                    body: JSON.stringify({\n                        fullCourseId,\n                    }),\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                });\n                (0, cssTransitions_1.showCidSlider)();\n            }\n            catch (err) {\n                console.error(`error finalizing cache job: ${err}`);\n                (0, elementPresets_1.cacheFinalizeError)();\n            }\n        }\n    });\n}\nfunction getArticulationData(links, courseId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const fullCourseId = `${courseId}_${year}`;\n        const processingQueue = links.slice();\n        const abortController = new AbortController();\n        const { signal, isAborted } = (0, utils_1.abortHandler)(abortController);\n        const updateProgress = (0, utils_1.createProgressTracker)(links.length);\n        let articulations;\n        window.addEventListener(\"beforeunload\", () => abortController.abort());\n        (0, cssTransitions_1.showResults)();\n        updateProgress(0);\n        try {\n            articulations = yield getClassFromDb(fullCourseId, links.length, updateProgress);\n            if (!articulations) {\n                articulations = yield processChunks(processingQueue, signal, courseId, updateProgress, year);\n                (0, cssTransitions_1.hideLoadingContainer)();\n                if (!isAborted) {\n                    yield finalizeSearch(fullCourseId, articulations);\n                }\n            }\n        }\n        catch (error) {\n            if (error.name === \"AbortError\") {\n                console.log(\"requests aborted due to page unload\");\n            }\n            else {\n                console.error(\"error processing requests\", error);\n            }\n        }\n        finally {\n            window.removeEventListener(\"beforeunload\", () => abortController.abort());\n        }\n        return { articulations, updateProgress };\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCommunityColleges = getCommunityColleges;\nexports.getFourYears = getFourYears;\nexports.getMajorData = getMajorData;\nexports.getLowerDivs = getLowerDivs;\nconst schoolDataFetcher = process.env.SCHOOL_DATA_FETCHER;\nfunction fetchSchoolData(url) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let schoolData;\n        try {\n            const response = yield fetch(url);\n            const data = yield response.json();\n            schoolData = Object.values(data);\n        }\n        catch (error) {\n            console.error(\"error fetching school data:\", error);\n        }\n        return schoolData;\n    });\n}\nfunction fetchLowerDivs(receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let lowerDivs; // series add dimensions\n        try {\n            const endpoint = `${schoolDataFetcher}/lower-divs/${year}/6/${receivingId}/${key}`; // 6 is a placeholder community college\n            const response = yield fetch(endpoint);\n            const data = yield response.json();\n            lowerDivs = Object.values(data);\n        }\n        catch (error) {\n            console.log(\"error fetching lower divs:\", error);\n        }\n        return lowerDivs;\n    });\n}\nfunction getCommunityColleges() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let communityColleges;\n        try {\n            const endpoint = `${schoolDataFetcher}/community-colleges`;\n            const latestData = yield fetchSchoolData(endpoint);\n            communityColleges = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving community colleges:\", error);\n        }\n        return communityColleges;\n    });\n}\nfunction getFourYears() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let fourYears;\n        try {\n            const endpoint = `${schoolDataFetcher}/four-years`;\n            const latestData = yield fetchSchoolData(endpoint);\n            fourYears = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving four years:\", error);\n        }\n        return fourYears;\n    });\n}\nfunction getMajorData(receivingId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let majorData;\n        try {\n            const endpoint = `${schoolDataFetcher}/major-data/${receivingId}/${year}`;\n            const response = yield fetch(endpoint);\n            const data = yield response.json();\n            majorData = Object.values(data);\n        }\n        catch (error) {\n            console.error(`Error fetching majors for ${receivingId}:`, error);\n        }\n        return majorData;\n    });\n}\nfunction getLowerDivs(receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let lowerDivs;\n        try {\n            const latestData = yield fetchLowerDivs(receivingId, key, year);\n            lowerDivs = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving lower divs:\", error);\n        }\n        return lowerDivs;\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderFourYears = renderFourYears;\nexports.renderMajorData = renderMajorData;\nexports.getClassName = getClassName;\nexports.getId = getId;\nexports.renderLowerDivs = renderLowerDivs;\nexports.organizeArticulations = organizeArticulations;\nexports.createClassLists = createClassLists;\nconst elementPresets_1 = require(\"./elementPresets\");\nconst cssTransitions_1 = require(\"./cssTransitions\");\nconst schoolDataFetch_1 = require(\"../apiHitters/schoolDataFetch\");\nconst utils_1 = require(\"../utils\");\nconst assistDataCheckers_1 = require(\"../../interfaces/assistDataCheckers\");\nfunction renderFourYears(schoolList) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = schoolList.parentNode;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.showDialog)();\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const fourYears = yield (0, schoolDataFetch_1.getFourYears)();\n        const placeholder = (0, elementPresets_1.defaultOption)(\"school\");\n        schoolList.appendChild(placeholder);\n        fourYears.forEach((school) => {\n            if (school.id < 200) {\n                const option = (0, elementPresets_1.selectOption)(school.name, school.id, \"sending\");\n                schoolList.appendChild(option);\n            }\n        });\n        (0, cssTransitions_1.closeDialog)();\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction renderMajorData(majorList, receivingId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = majorList.parentElement;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const majorData = yield (0, schoolDataFetch_1.getMajorData)(receivingId, year);\n        const placeholder = (0, elementPresets_1.defaultOption)(\"major\");\n        majorList.replaceChildren();\n        majorList.appendChild(placeholder);\n        majorData.forEach((majorObj) => {\n            const option = (0, elementPresets_1.selectOption)(majorObj.major, majorObj.key, \"key\");\n            majorList.appendChild(option);\n        });\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction getSeriesString(seriesArray) {\n    const seriesArrayCopy = seriesArray.slice();\n    const filtered = (0, utils_1.filterSeries)(seriesArrayCopy); // filters out SeriesIdObject\n    let seriesString = \"\";\n    filtered.forEach((item, index) => {\n        let courseConnector;\n        if ((0, assistDataCheckers_1.isLowerDiv)(item)) {\n            const { prefix, courseNumber } = item;\n            const className = `${prefix} ${courseNumber}`;\n            seriesString += className;\n        }\n        else if (typeof item === \"string\") {\n            courseConnector = item.toLowerCase();\n            seriesString += courseConnector;\n        }\n        if (index < filtered.length - 1) {\n            seriesString += \" \";\n        }\n    });\n    return seriesString;\n}\nfunction getClassName(objOrArray) {\n    let formattedClass = \"\";\n    if ((0, assistDataCheckers_1.isLowerDiv)(objOrArray)) {\n        formattedClass = `${objOrArray.prefix} ${objOrArray.courseNumber} - ${objOrArray.courseTitle}`;\n    }\n    else if ((0, assistDataCheckers_1.isUnfilteredSeries)(objOrArray)) {\n        formattedClass = getSeriesString(objOrArray);\n    }\n    return formattedClass;\n}\nfunction getId(objOrArray) {\n    let id;\n    if ((0, assistDataCheckers_1.isLowerDiv)(objOrArray)) {\n        id = objOrArray.courseId;\n    }\n    else if ((0, assistDataCheckers_1.isUnfilteredSeries)(objOrArray)) {\n        for (let i = 0; i < objOrArray.length; i += 1) {\n            const item = objOrArray[i];\n            if ((0, assistDataCheckers_1.isSeriesIdObject)(item)) {\n                id = item.seriesId;\n            }\n        }\n    }\n    return id;\n}\nfunction renderLowerDivs(classList, receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = classList.parentNode;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const lowerDivs = yield (0, schoolDataFetch_1.getLowerDivs)(receivingId, key, year);\n        console.log(lowerDivs);\n        const placeholder = (0, elementPresets_1.defaultOption)(\"class\");\n        classList.replaceChildren();\n        classList.appendChild(placeholder);\n        lowerDivs.forEach((lowerDiv, classIndex) => {\n            const className = getClassName(lowerDiv);\n            const id = getId(lowerDiv);\n            const option = (0, elementPresets_1.lowerDivOption)(className, classIndex, id);\n            classList.appendChild(option);\n        });\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction organizeArticulations() {\n    const articulationsDiv = document.querySelector(\".articulations\");\n    const classLists = document.querySelectorAll(\".class-list\");\n    const listArray = Array.from(classLists);\n    if (classLists.length === 0) {\n        (0, elementPresets_1.noArticulations)(articulationsDiv);\n    }\n    else {\n        listArray.sort((a, b) => {\n            const currentButton = a.querySelector(\"button\");\n            const nextButton = b.querySelector(\"button\");\n            if (currentButton && nextButton) {\n                return currentButton.textContent.localeCompare(nextButton.textContent);\n            }\n            return 0;\n        });\n        listArray.forEach((list) => {\n            articulationsDiv.appendChild(list);\n        });\n    }\n}\nfunction sortClassData(classData) {\n    classData.sort((a, b) => {\n        if (typeof a === \"string\") {\n            return 0;\n        }\n        if (typeof b === \"string\") {\n            return 0;\n        }\n        if (\"prefix\" in a && \"prefix\" in b) {\n            const prefixComparison = a.prefix.localeCompare(b.prefix);\n            if (prefixComparison !== 0)\n                return prefixComparison;\n        }\n        if (\"courseNumber\" in a && \"courseNumber\" in b) {\n            const courseNumberComparison = a.courseNumber.localeCompare(b.courseNumber);\n            if (courseNumberComparison !== 0)\n                return courseNumberComparison;\n        }\n        return 0;\n    });\n    return classData;\n}\nfunction renderItems(items, classListDiv) {\n    const sortedItems = sortClassData(items);\n    for (let i = 0; i < sortedItems.length;) {\n        const subitem = sortedItems[i];\n        if ((0, assistDataCheckers_1.isSeries)(subitem)) {\n            renderItems(subitem, classListDiv);\n        }\n        else if (typeof subitem === \"string\") {\n            if (subitem.toLowerCase() === \"and\") {\n                (0, elementPresets_1.connector)(subitem, classListDiv);\n            }\n            else if (subitem.toLowerCase() === \"or\") {\n                (0, elementPresets_1.conjunction)(subitem, classListDiv);\n            }\n        }\n        else if ((0, assistDataCheckers_1.isLowerDiv)(subitem)) {\n            const className = `${subitem.prefix} ${subitem.courseNumber} - ${subitem.courseTitle}`;\n            const courseElement = (0, elementPresets_1.course)(className, classListDiv);\n            if (subitem.cid) {\n                const cidElement = (0, elementPresets_1.cid)(subitem.cid);\n                courseElement.appendChild(cidElement);\n            }\n        }\n        i += 1;\n    }\n}\nfunction createClassLists(articulation) {\n    if (articulation && articulation.result) {\n        const { result } = articulation;\n        const courseCache = [];\n        let collegeName = \"\";\n        let agreementLink = \"\";\n        for (let i = 0; i < result.length;) {\n            const item = result[i];\n            if (item) {\n                if (typeof item == \"object\" && \"ccName\" in item) {\n                    collegeName = item.ccName;\n                }\n                else if (typeof item == \"object\" && \"agreementLink\" in item) {\n                    agreementLink = item.agreementLink;\n                }\n                else if (typeof item === \"string\" || (0, assistDataCheckers_1.isArticulation)(item)) {\n                    courseCache.push(item);\n                }\n                if (collegeName && agreementLink) {\n                    const classListDiv = (0, elementPresets_1.classListMainDiv)();\n                    (0, elementPresets_1.classListHeader)(classListDiv, collegeName, agreementLink);\n                    renderItems(courseCache, classListDiv);\n                }\n            }\n            i += 1;\n        }\n    }\n}\n","\"use strict\";\n/* eslint-disable import/no-cycle */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRandomLoadingGif = getRandomLoadingGif;\nexports.updateProgressTracker = updateProgressTracker;\nexports.createProgressTracker = createProgressTracker;\nexports.changeSelectedClassTxt = changeSelectedClassTxt;\nexports.resetResults = resetResults;\nexports.filterSeries = filterSeries;\nexports.abortHandler = abortHandler;\nexports.addBackBtnListener = addBackBtnListener;\nconst wait_for_element_transition_1 = __importDefault(require(\"wait-for-element-transition\"));\nconst cssTransitions_1 = require(\"./domFunctions/cssTransitions\");\nconst assistDataCheckers_1 = require(\"../interfaces/assistDataCheckers\");\nfunction getRandomLoadingGif(imgElement) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const response = yield fetch(process.env.LOADING_GIF_ENDPOINT, {\n            mode: \"cors\",\n        });\n        const gifData = yield response.json();\n        try {\n            if (gifData) {\n                imgElement.src = gifData.data.images.original.url;\n            }\n        }\n        catch (error) {\n            console.log(error);\n        }\n    });\n}\nfunction updateProgressTracker(collegesProcessed, totalColleges) {\n    const progressTracker = document.querySelector(\".progress-tracker\");\n    progressTracker.textContent = `${collegesProcessed} out of ${totalColleges} colleges searched`;\n}\nfunction createProgressTracker(linksLength) {\n    let totalProcessed = 0;\n    const updateProgress = (processed) => {\n        totalProcessed += processed;\n        updateProgressTracker(totalProcessed, linksLength);\n    };\n    return updateProgress;\n}\nfunction changeSelectedClassTxt(classString) {\n    const selectedClass = document.querySelector(\".selected-class\");\n    selectedClass.textContent = `Articulations for: ${classString}`;\n}\nfunction resetResults() {\n    const results = document.querySelector(\".results\");\n    const progressTracker = document.querySelector(\".progress-tracker\");\n    const selectedClass = document.querySelector(\".selected-class\");\n    const articulations = document.querySelector(\".articulations\");\n    const cidInput = document.querySelector(\".cids > input\");\n    (0, wait_for_element_transition_1.default)(results).then(() => {\n        articulations.replaceChildren();\n        progressTracker.textContent = \"\";\n        selectedClass.textContent = \"\";\n        cidInput.checked = false;\n    });\n}\nfunction filterSeries(series) {\n    for (let i = 0; i < series.length;) {\n        const item = series[i];\n        if ((0, assistDataCheckers_1.isSeriesIdObject)(item)) {\n            series.splice(i, 1);\n        }\n        i += 1;\n    }\n    return series;\n}\nfunction abortRequest(abortController) {\n    abortController.abort();\n    // clean code???????????\n    (0, cssTransitions_1.hideCidSlider)();\n    (0, cssTransitions_1.hideResults)();\n    (0, cssTransitions_1.hideBackButton)();\n    (0, cssTransitions_1.showSplash)();\n    resetResults();\n}\nfunction abortHandler(abortController) {\n    const abortButton = document.querySelector(\".back\");\n    let isAborted = false;\n    abortButton.addEventListener(\"click\", () => {\n        isAborted = true;\n        abortRequest(abortController);\n    });\n    return { signal: abortController.signal, isAborted };\n}\nfunction removeBackBtnListener(backHandler) {\n    const backButton = document.querySelector(\".back\");\n    backButton.removeEventListener(\"click\", backHandler);\n}\nfunction addBackBtnListener(removeToggleListener, toggleHandler) {\n    const backButton = document.querySelector(\".back\");\n    function backHandler() {\n        removeToggleListener(toggleHandler);\n        removeBackBtnListener(backHandler);\n    }\n    backButton.addEventListener(\"click\", backHandler);\n    return backHandler;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(156);\n"],"names":["getCssPropUnitMap","v","numParts","trim","match","num","unit","numString","split","Number","el","duration","getCssComputedProperty","prop","window","getComputedStyle","getPropertyValue","style","cssProp","replace","letter","toUpperCase","delayProp","durationProp","times","Array","isArray","delay","map","highest","push","apply","forEach","value","val","undefined","convertCssTimeValueToMilliseconds","getTransitionDuration","Promise","resolve","setTimeout","cidsToggle","document","querySelector","checkForCids","articulations","i","length","item","result","prefix","courseNumber","courseTitle","cid","showCids","querySelectorAll","element","display","async","toggleCids","courseId","state","linksLength","updateProgress","savedArticulations","checked","newArticulations","endpoint","disableCidSection","response","fetch","body","JSON","stringify","method","headers","status","json","enableCidSection","appendCids","replaceChildren","createListFromDb","addToggleListener","handler","addEventListener","removeToggleListener","removeEventListener","dialog","form","img","results","loadingContainer","backButton","cidSlider","hideBackButton","opacity","then","showDialog","showModal","closeDialog","secondLine","removeChild","height","close","showLoadingText","loadingText","loading","hideLoadingText","applyDisabledState","formRow","row","select","children","disabled","node","setAttribute","removeDisabledState","startLoading","stopLoading","hideSplash","showRandomLoadingGif","getRandomLoadingGif","showResults","hideLoadingContainer","hideCidSlider","hideResults","showSplash","showCidSlider","cidSection","label","toggle","selectOption","id","keyword","option","createElement","textContent","lowerDivOption","text","defaultOption","selected","classListMainDiv","classListDiv","classList","add","append","classListHeader","parentDiv","collegeName","agreementLink","linkElement","href","target","course","className","parent","textElement","appendChild","connector","conjunction","noArticulations","processingPrompt","cacheFinalizeError","cidText","spanElement","cidPrompt","secondLineDiv","line2","cidLink","__awaiter","this","thisArg","_arguments","P","generator","reject","fulfilled","step","next","e","rejected","done","Object","defineProperty","exports","articulationFetcher_1","assistDataRender_1","cssTransitions_1","utils_1","cids_1","elementPresets_1","schoolList","getElementById","majorList","yearList","selects","submit","closeDialogBtn","cidInfo","parentNode","renderFourYears","year","options","selectedIndex","selectedSchool","receivingId","dataset","sending","renderMajorData","majorKey","key","renderLowerDivs","event","selectedClass","links","getArticulationParams","fullCourseId","changeSelectedClassTxt","articulationData","getArticulationData","toggleHandler","addBackBtnListener","preventDefault","isLowerDiv","isSeriesIdObject","seriesId","isUnfilteredSeriesItem","isSeriesItem","isSeries","array","every","isUnfilteredSeries","isArticulation","articulationParams","schoolDataFetch_1","getCommunityColleges","college","link","processingQueue","slice","abortController","AbortController","signal","isAborted","abortHandler","createProgressTracker","abort","console","log","err","error","getClassFromDb","processChunks","organizeArticulations","finalizeSearch","name","processingQueue_1","signal_1","courseId_1","updateProgress_1","year_1","arguments","assistArticulations","linksChunk","splice","streamArticulations","linksList","Connection","stream","reader","getReader","decoder","TextDecoder","accumulatedData","read","decode","end","indexOf","jsonString","articulation","parse","createClassLists","processStream","requestArticulations","communityColleges","schoolDataFetcher","fetchSchoolData","getFourYears","fourYears","getMajorData","majorData","data","values","getLowerDivs","lowerDivs","latestData","fetchLowerDivs","url","schoolData","placeholder","school","parentElement","majorObj","major","getClassName","getId","lowerDiv","classIndex","articulationsDiv","classLists","listArray","from","sort","a","b","currentButton","nextButton","localeCompare","list","courseCache","ccName","assistDataCheckers_1","renderItems","objOrArray","formattedClass","seriesArray","seriesArrayCopy","filtered","filterSeries","seriesString","index","courseConnector","toLowerCase","getSeriesString","items","sortedItems","classData","prefixComparison","courseNumberComparison","subitem","courseElement","cidElement","__importDefault","mod","__esModule","imgElement","mode","gifData","src","images","original","updateProgressTracker","totalProcessed","processed","classString","resetResults","series","abortButton","abortRequest","backHandler","removeBackBtnListener","wait_for_element_transition_1","collegesProcessed","totalColleges","progressTracker","cidInput","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","call","n","getter","d","definition","o","enumerable","get","obj","prototype","hasOwnProperty","r","Symbol","toStringTag"],"sourceRoot":""}