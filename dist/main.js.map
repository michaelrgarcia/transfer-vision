{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./node_modules/wait-for-element-transition/dist/wait-for-element-transition.js","webpack://webpack-template/./src/public/apiHitters/articulationFetcher.js","webpack://webpack-template/./src/public/apiHitters/cids.js","webpack://webpack-template/./src/public/domFunctions/cssTransitions.js","webpack://webpack-template/./src/public/domFunctions/elementPresets.js","webpack://webpack-template/./src/index.ts","webpack://webpack-template/./src/interfaces/assistDataCheckers.ts","webpack://webpack-template/./src/public/apiHitters/schoolDataFetch.ts","webpack://webpack-template/./src/public/domFunctions/assistDataRender.ts","webpack://webpack-template/./src/public/utils.ts","webpack://webpack-template/webpack/bootstrap","webpack://webpack-template/webpack/runtime/compat get default export","webpack://webpack-template/webpack/runtime/define property getters","webpack://webpack-template/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-template/webpack/runtime/make namespace object","webpack://webpack-template/webpack/startup"],"sourcesContent":["/*!\n  * Wait-for-element-transition v3.3.1\n  * https://github.com/markcellus/wait-for-element-transition#readme\n  *\n  * Copyright (c) 2022 Mark\n  * Licensed under the MIT license\n */\n\n/**\r\n * Takes a value and separates the number and unit into a key/value map.\r\n */\r\nconst getCssPropUnitMap = (v) => {\r\n    v = v.trim();\r\n    const numParts = v.match('[0-9.]+');\r\n    let unit = 'ms';\r\n    let num;\r\n    const numString = numParts ? numParts[0] : '';\r\n    if (numString) {\r\n        unit = v.split(numString)[1];\r\n        num = Number(numString);\r\n    }\r\n    return {\r\n        num,\r\n        unit,\r\n    };\r\n};\r\n/**\r\n * Converts a css timing unit value into milliseconds.\r\n */\r\nconst convertCssTimeValueToMilliseconds = (val) => {\r\n    const map = getCssPropUnitMap(val);\r\n    const num = map ? map.num : undefined;\r\n    if (!num) {\r\n        return '';\r\n    }\r\n    const unit = val.replace(num + '', '');\r\n    let value = num;\r\n    if (unit === 's') {\r\n        value = num * 1000;\r\n    }\r\n    return value + 'ms';\r\n};\r\n/**\r\n * Gets the time is takes for the element to transition to its show state.\r\n */\r\nfunction getTransitionDuration(el) {\r\n    /**\r\n     * Takes a css property name and returns the javascript version of it.\r\n     */\r\n    const getJsPropName = (cssProp) => {\r\n        // convert to camelCase\r\n        return cssProp.replace(/-([a-z])/g, (letter) => {\r\n            return letter[1].toUpperCase();\r\n        });\r\n    };\r\n    /**\r\n     * Gets the computed property of the element.\r\n     */\r\n    const getCssComputedProperty = (prop) => {\r\n        const style = window.getComputedStyle(el);\r\n        return (style.getPropertyValue(prop) ||\r\n            el.style[getJsPropName(prop)]);\r\n    };\r\n    const delayProp = getCssComputedProperty('transition-delay') || '0ms';\r\n    const durationProp = getCssComputedProperty('transition-duration') || '0ms';\r\n    const times = Array.isArray(durationProp) ? durationProp : [durationProp];\r\n    const delay = Array.isArray(delayProp) ? delayProp : [delayProp];\r\n    let highest = 0;\r\n    let map;\r\n    times.push.apply(times, delay); // account for delay\r\n    // calculate highest number of time\r\n    times.forEach((value) => {\r\n        value.split(',').forEach((v) => {\r\n            v = convertCssTimeValueToMilliseconds(v);\r\n            map = getCssPropUnitMap(v);\r\n            if (map.num && map.num > highest) {\r\n                highest = map.num;\r\n            }\r\n        });\r\n    });\r\n    return highest;\r\n}\r\n/**\r\n * Builds a transition promise that waits to resolve until the module el's CSS transition is completed (if applicable).\r\n */\r\nfunction waitForElementTransition(el) {\r\n    const duration = getTransitionDuration(el);\r\n    return new Promise((resolve) => {\r\n        if (duration > 0) {\r\n            setTimeout(() => {\r\n                resolve(el);\r\n            }, duration);\r\n        }\r\n        else {\r\n            resolve(el);\r\n        }\r\n    });\r\n}\n\nexport default waitForElementTransition;\n","/* eslint-disable import/no-cycle */\n/* eslint-disable consistent-return */\n/* eslint-disable no-await-in-loop */\n\nimport {\n  createClassLists,\n  organizeArticulations,\n} from \"../domFunctions/assistDataRender\";\n\nimport { getCommunityColleges } from \"./schoolDataFetch\";\n\nimport {\n  showResults,\n  hideLoadingContainer,\n  showDialog,\n  showCidSlider,\n} from \"../domFunctions/cssTransitions\";\n\nimport { createProgressTracker, abortHandler } from \"../utils\";\n\nimport {\n  cacheFinalizeError,\n  processingPrompt,\n} from \"../domFunctions/elementPresets\";\n\nexport async function getArticulationParams(receivingId, majorKey, year) {\n  const articulationParams = [];\n  const communityColleges = await getCommunityColleges();\n\n  const receiving = receivingId;\n  const key = majorKey;\n\n  communityColleges.forEach((college) => {\n    if (college.id) {\n      const sending = college.id;\n      const link = `${process.env.ASSIST_API_PARAMS}=${year}/${sending}/to/${receiving}/Major/${key}`;\n      const agreementLink = `${process.env.ASSIST_AGREEMENT_PARAMS}=${year}&institution=${sending}&agreement=${receiving}&agreementType=to&view=agreement&viewBy=major&viewSendingAgreements=false&viewByKey=${year}/${sending}/to/${receiving}/Major/${key}`;\n\n      articulationParams.push({ link, agreementLink });\n    }\n  });\n\n  return articulationParams;\n}\n\nasync function processStream(stream, updateProgress) {\n  const reader = stream.getReader();\n  const decoder = new TextDecoder(\"utf-8\");\n\n  const streamArticulations = [];\n  let accumulatedData = \"\";\n\n  while (true) {\n    const { value, done } = await reader.read();\n\n    if (done) {\n      break;\n    }\n\n    const decodedChunk = decoder.decode(value, { stream: true });\n    accumulatedData += decodedChunk;\n\n    let end = accumulatedData.indexOf(\"\\n\");\n\n    while (end !== -1) {\n      const jsonString = accumulatedData.slice(0, end);\n      accumulatedData = accumulatedData.slice(end + 1);\n\n      try {\n        const articulation = JSON.parse(jsonString);\n\n        if (articulation.result) {\n          createClassLists(articulation);\n          streamArticulations.push(articulation);\n        }\n\n        updateProgress(1);\n      } catch (error) {\n        console.error(`error parsing articulation: ${error}`);\n      }\n\n      end = accumulatedData.indexOf(\"\\n\");\n    }\n  }\n\n  return streamArticulations;\n}\n\nasync function requestArticulations(\n  links,\n  signal,\n  courseId,\n  year,\n  updateProgress,\n) {\n  let streamArticulations;\n\n  try {\n    const linksList = JSON.stringify(links);\n\n    const endpoint = `${process.env.NEW_ARTICULATION_FETCHER}/?courseId=${courseId}&year=${year}`;\n\n    const response = await fetch(endpoint, {\n      body: linksList,\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Connection: \"keep-alive\",\n      },\n      signal,\n    });\n\n    streamArticulations = await processStream(response.body, updateProgress);\n  } catch (error) {\n    console.error(`error processing stream: ${error}`);\n  }\n\n  return streamArticulations;\n}\n\nasync function processChunks(\n  processingQueue,\n  signal,\n  courseId,\n  updateProgress,\n  year,\n  assistArticulations = [],\n) {\n  const concurrencyLimit = 29;\n\n  let linksChunk;\n\n  if (processingQueue.length === 0) return assistArticulations;\n\n  if (processingQueue.length < concurrencyLimit) {\n    linksChunk = processingQueue.splice(0, processingQueue.length - 1);\n  } else {\n    linksChunk = processingQueue.splice(0, concurrencyLimit);\n  }\n\n  try {\n    const streamArticulations = await requestArticulations(\n      linksChunk,\n      signal,\n      courseId,\n      year,\n      updateProgress,\n    );\n\n    assistArticulations.push(...streamArticulations);\n\n    return await processChunks(\n      processingQueue,\n      signal,\n      courseId,\n      updateProgress,\n      year,\n      assistArticulations,\n    ); // recursive call\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      console.log(\"aborted request\");\n    } else {\n      console.error(\"error processing chunk:\", error);\n    }\n  }\n}\n\nexport function createListFromDb(dbResponse, linksLength, updateProgress) {\n  const articulations = dbResponse;\n\n  for (let i = 0; i < articulations.length; ) {\n    const articulation = articulations[i];\n\n    if (articulation) {\n      createClassLists(articulation);\n    }\n\n    i += 1;\n  }\n\n  updateProgress(linksLength);\n  hideLoadingContainer();\n  showCidSlider();\n}\n\nasync function getClassFromDb(fullCourseId, linksLength, updateProgress) {\n  const courseGrabber = process.env.COURSE_GRABBER;\n\n  try {\n    const response = await fetch(`${courseGrabber}/${fullCourseId}`);\n\n    if (response.status === 200) {\n      const articulations = await response.json();\n\n      createListFromDb(articulations, linksLength, updateProgress);\n\n      return articulations;\n    }\n\n    if (response.status === 204) {\n      console.log(\"restarting incomplete caching job...\");\n      return false;\n    }\n\n    if (response.status === 206) {\n      hideLoadingContainer();\n      processingPrompt();\n      showDialog();\n\n      return true;\n    }\n  } catch (err) {\n    console.error(\"error getting class from db\", err);\n  }\n\n  return false;\n}\n\nasync function finalizeSearch(fullCourseId, articulations) {\n  const cacheFinalizer = process.env.CACHE_COMPLETER;\n\n  if (articulations) {\n    organizeArticulations();\n\n    try {\n      await fetch(cacheFinalizer, {\n        body: JSON.stringify({\n          fullCourseId,\n        }),\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      showCidSlider();\n    } catch (err) {\n      console.error(`error finalizing cache job: ${err}`);\n      cacheFinalizeError();\n    }\n  }\n}\n\nexport async function getArticulationData(links, courseId, year) {\n  const fullCourseId = `${courseId}_${year}`;\n  const processingQueue = links.slice();\n\n  const abortController = new AbortController();\n  const { signal, isAborted } = abortHandler(abortController);\n\n  const updateProgress = createProgressTracker(links.length);\n\n  let articulations;\n\n  window.addEventListener(\"beforeunload\", () => abortController.abort());\n\n  showResults();\n  updateProgress(0);\n\n  try {\n    articulations = await getClassFromDb(\n      fullCourseId,\n      links.length,\n      updateProgress,\n    );\n\n    if (!articulations) {\n      articulations = await processChunks(\n        processingQueue,\n        signal,\n        courseId,\n        updateProgress,\n        year,\n      );\n\n      hideLoadingContainer();\n\n      if (!isAborted) {\n        await finalizeSearch(fullCourseId, articulations);\n      }\n    }\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      console.log(\"requests aborted due to page unload\");\n    } else {\n      console.error(\"error processing requests\", error);\n    }\n  } finally {\n    window.removeEventListener(\"beforeunload\", () => abortController.abort());\n  }\n\n  return { articulations, updateProgress };\n}\n","/* eslint-disable import/no-cycle */\n\nimport {\n  disableCidSection,\n  enableCidSection,\n} from \"../domFunctions/cssTransitions\";\nimport { createListFromDb } from \"./articulationFetcher\";\n\nconst cidsToggle = document.querySelector(\".cids > input\");\n\nasync function appendCids(courseId, articulations) {\n  const endpoint = `${process.env.CID_APPENDER}/${courseId}`;\n\n  disableCidSection();\n\n  const response = await fetch(endpoint, {\n    body: JSON.stringify(articulations),\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  let newArticulations;\n\n  if (response.status === 200) {\n    newArticulations = await response.json();\n    enableCidSection();\n  }\n\n  return newArticulations;\n}\n\nfunction checkForCids(articulations) {\n  for (let i = 0; i < articulations.length; ) {\n    const item = articulations[i];\n\n    if (item.result && checkForCids(item.result)) {\n      return true;\n    }\n\n    if (Array.isArray(item) && checkForCids(item)) {\n      return true;\n    }\n\n    if (\n      item &&\n      item.prefix &&\n      item.courseNumber &&\n      item.courseTitle &&\n      item.cid\n    ) {\n      return true;\n    }\n\n    i += 1;\n  }\n\n  return false;\n}\n\nfunction showCids() {\n  const cidElements = document.querySelectorAll(\".cid\");\n\n  cidElements.forEach((element) => {\n    const cid = element;\n\n    cid.style.display = \"inline\";\n  });\n}\n\nfunction hideCids() {\n  const cidElements = document.querySelectorAll(\".cid\");\n\n  cidElements.forEach((element) => {\n    const cid = element;\n\n    cid.style.display = \"none\";\n  });\n}\n\nasync function toggleCids(courseId, state, linksLength, updateProgress) {\n  const savedArticulations = state.articulations;\n\n  if (cidsToggle.checked) {\n    const hasCids = checkForCids(savedArticulations);\n    if (hasCids) {\n      showCids();\n    } else {\n      const newArticulations = await appendCids(courseId, savedArticulations);\n\n      const articulationsDiv = document.querySelector(\".articulations\");\n\n      articulationsDiv.replaceChildren();\n      createListFromDb(newArticulations, linksLength, updateProgress);\n\n      // eslint-disable-next-line no-param-reassign\n      state.articulations = newArticulations;\n\n      showCids();\n    }\n  } else {\n    hideCids();\n  }\n\n  return savedArticulations;\n}\n\nexport function addToggleListener(\n  courseId,\n  articulations,\n  linksLength,\n  updateProgress,\n) {\n  const state = { articulations };\n\n  const handler = async () =>\n    toggleCids(courseId, state, linksLength, updateProgress);\n\n  cidsToggle.addEventListener(\"change\", handler);\n\n  return handler;\n}\n\nexport function removeToggleListener(handler) {\n  cidsToggle.removeEventListener(\"change\", handler);\n}\n","import waitForElementTransition from \"wait-for-element-transition\";\n\nimport { getRandomLoadingGif } from \"../utils\";\n\nconst dialog = document.querySelector(\"dialog\");\nconst form = document.querySelector(\"form\");\nconst img = document.querySelector(\"img.loading-gif\");\nconst results = document.querySelector(\".results\");\nconst loadingContainer = document.querySelector(\".loading-container\");\nconst backButton = document.querySelector(\".back\");\nconst cidSlider = document.querySelector(\".cid-section\");\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nfunction showLoadingContainer() {\n  loadingContainer.style.opacity = 1;\n  loadingContainer.style.display = \"flex\";\n}\n\nfunction showBackButton() {\n  backButton.style.opacity = 1;\n  backButton.style.display = \"block\";\n}\n\nexport function hideBackButton() {\n  backButton.style.opacity = 0;\n\n  waitForElementTransition(backButton).then(async () => {\n    backButton.style.display = \"none\";\n  });\n}\n\nexport function showDialog() {\n  dialog.showModal();\n  dialog.style.opacity = 1;\n}\n\nexport function closeDialog() {\n  const secondLine = dialog.querySelector(\".cid-second-line\");\n\n  if (secondLine) dialog.removeChild(secondLine);\n\n  dialog.style.height = \"100px\";\n  dialog.style.opacity = 0;\n  dialog.close();\n}\n\nexport function showLoadingText(loadingText) {\n  const loading = loadingText;\n  loading.style.opacity = 1;\n  loading.style.display = \"block\";\n}\n\nexport function hideLoadingText(loadingText) {\n  const loading = loadingText;\n\n  loading.style.opacity = 0;\n  loading.style.display = \"none\";\n}\n\nexport function applyDisabledState(formRow) {\n  const row = formRow;\n\n  const select = row.querySelector(\"select\");\n  const children = row.querySelectorAll(\":not(.loading)\");\n\n  if (select) {\n    select.disabled = true;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n\n    element.setAttribute(\"aria-disabled\", \"true\");\n  });\n}\n\nexport function removeDisabledState(formRow) {\n  const row = formRow;\n\n  const select = row.querySelector(\"select\");\n  const children = row.querySelectorAll(\":not(.loading)\");\n\n  if (select) {\n    select.disabled = false;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n    element.setAttribute(\"aria-disabled\", \"false\");\n  });\n}\n\nexport function startLoading(formRow, loadingText) {\n  applyDisabledState(formRow);\n  showLoadingText(loadingText);\n}\n\nexport function stopLoading(formRow, loadingText) {\n  removeDisabledState(formRow);\n  hideLoadingText(loadingText);\n}\n\nexport function hideSplash() {\n  form.style.opacity = 0;\n  waitForElementTransition(form).then(() => {\n    form.style.display = \"none\";\n  });\n}\n\nexport async function showRandomLoadingGif() {\n  waitForElementTransition(form).then(async () => {\n    await getRandomLoadingGif(img);\n\n    img.style.display = \"block\";\n    img.style.opacity = 1;\n  });\n}\n\nexport function showResults() {\n  waitForElementTransition(form).then(() => {\n    results.style.opacity = 1;\n    showLoadingContainer();\n    showBackButton();\n  });\n\n  results.style.display = \"flex\";\n}\n\nexport function hideLoadingContainer() {\n  // below code block, can turn into hideElement(element) function?\n  loadingContainer.style.opacity = 0;\n\n  waitForElementTransition(loadingContainer).then(() => {\n    loadingContainer.style.display = \"none\";\n  });\n}\n\nexport function hideCidSlider() {\n  cidSlider.style.opacity = 0;\n\n  waitForElementTransition(cidSlider).then(() => {\n    cidSlider.style.display = \"none\";\n  });\n}\n\nexport function hideResults() {\n  results.style.opacity = \"0\";\n\n  waitForElementTransition(results).then(() => {\n    results.style.display = \"none\";\n  });\n}\n\nexport function showSplash() {\n  waitForElementTransition(results).then(() => {\n    form.style.opacity = 1;\n  });\n\n  waitForElementTransition(form).then(() => {\n    form.style.display = \"flex\";\n  });\n}\n\nexport function showCidSlider() {\n  waitForElementTransition(loadingContainer).then(() => {\n    cidSlider.style.opacity = 1;\n  });\n\n  cidSlider.style.display = \"flex\";\n}\n\nexport function disableCidSection() {\n  const cidSection = document.querySelector(\".cid-section\");\n\n  const label = cidSection.querySelector(\".cids\");\n  const toggle = cidSection.querySelector(\".cids > input\");\n\n  const children = label.querySelectorAll(\"*\");\n\n  if (toggle) {\n    toggle.disabled = true;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n\n    element.setAttribute(\"aria-disabled\", \"true\");\n  });\n}\n\nexport function enableCidSection() {\n  const cidSection = document.querySelector(\".cid-section\");\n\n  const label = cidSection.querySelector(\".cids\");\n  const toggle = cidSection.querySelector(\".cids > input\");\n\n  const children = label.querySelectorAll(\"*\");\n\n  if (toggle) {\n    toggle.disabled = false;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n    element.setAttribute(\"aria-disabled\", \"false\");\n  });\n}\n","export function selectOption(value, id, keyword) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = value;\n  option.value = value;\n\n  if (id && keyword) {\n    option.setAttribute(`data-${keyword}`, id);\n  }\n\n  return option;\n}\n\nexport function lowerDivOption(text, value, id) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = text;\n  option.value = value;\n\n  option.setAttribute(\"data-id\", id);\n\n  return option;\n}\n\nexport function defaultOption(keyword) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = `Select a ${keyword}`;\n  option.value = \"\";\n  option.disabled = true;\n  option.selected = true;\n\n  return option;\n}\n\nexport function classListMainDiv() {\n  const articulations = document.querySelector(\".articulations\");\n  const classListDiv = document.createElement(\"div\");\n\n  classListDiv.classList.add(\"class-list\");\n\n  classListDiv.style.display = \"flex\";\n  classListDiv.style.opacity = \"1\";\n\n  articulations.append(classListDiv);\n\n  return classListDiv;\n}\n\nexport function classListHeader(parentDiv, collegeName, agreementLink) {\n  const linkElement = document.createElement(\"a\");\n\n  linkElement.href = agreementLink;\n  linkElement.target = \"_blank\";\n\n  linkElement.textContent = collegeName;\n\n  parentDiv.append(linkElement);\n}\n\nexport function course(className, parent) {\n  const textElement = document.createElement(\"p\");\n\n  textElement.textContent = className;\n  parent.appendChild(textElement);\n\n  return textElement;\n}\n\nexport function connector(text, parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"connector\");\n\n  textElement.textContent = text;\n  parent.appendChild(textElement);\n}\n\nexport function conjunction(text, parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"conjunction\");\n\n  textElement.textContent = text;\n  parent.appendChild(textElement);\n}\n\nexport function noArticulations(parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"no-articulations\");\n\n  textElement.textContent = \"No articulations found.\";\n  parent.appendChild(textElement);\n\n  textElement.style.opacity = 1;\n}\n\nexport function processingPrompt() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent = \"Data may be processing. Try again shortly.\";\n}\n\nexport function cacheFinalizeError() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent = \"Failed to complete search. Try again shortly.\";\n}\n\nexport function cid(cidText) {\n  const spanElement = document.createElement(\"span\");\n\n  spanElement.classList.add(\"cid\");\n  spanElement.textContent = `(${cidText})`;\n\n  return spanElement;\n}\n\nexport function cidPrompt() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent =\n    \"C-IDs (course identification numbers) make it easy to identify equivalent courses across California Community Colleges.\";\n\n  const secondLineDiv = document.createElement(\"div\");\n  secondLineDiv.classList.add(\"cid-second-line\");\n\n  const line2 = document.createElement(\"p\");\n  line2.textContent =\n    \"Some C-IDs may not be visible due to inconsistencies in data. All available data can be found on the \";\n\n  const cidLink = document.createElement(\"a\");\n\n  cidLink.textContent = \"C-ID website.\";\n  cidLink.href = \"https://c-id.net\";\n  cidLink.target = \"_blank\";\n\n  line2.appendChild(cidLink);\n\n  secondLineDiv.appendChild(line2);\n\n  dialog.appendChild(secondLineDiv);\n\n  dialog.style.height = \"250px\";\n}\n","\"use strict\";\n/* eslint-disable no-unused-vars */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst articulationFetcher_1 = require(\"./public/apiHitters/articulationFetcher\");\nconst assistDataRender_1 = require(\"./public/domFunctions/assistDataRender\");\nconst cssTransitions_1 = require(\"./public/domFunctions/cssTransitions\");\nconst utils_1 = require(\"./public/utils\");\nconst cids_1 = require(\"./public/apiHitters/cids\");\nconst elementPresets_1 = require(\"./public/domFunctions/elementPresets\");\nconst schoolList = document.getElementById(\"four-year\");\nconst majorList = document.getElementById(\"major\");\nconst classList = document.getElementById(\"class\");\nconst yearList = document.getElementById(\"academic-year\");\nconst selects = document.querySelectorAll(\"select\");\nconst submit = document.querySelector(\".submit\");\nconst backButton = document.querySelector(\".back\");\nconst closeDialogBtn = document.querySelector(\".close-dialog\");\nconst cidInfo = document.querySelector(\".cid-info\");\ndocument.addEventListener(\"DOMContentLoaded\", () => __awaiter(void 0, void 0, void 0, function* () {\n    for (let i = 1; i < selects.length - 1;) {\n        if (selects[i].parentNode) {\n            (0, cssTransitions_1.applyDisabledState)(selects[i].parentNode);\n            i += 1;\n        }\n    }\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n    (0, assistDataRender_1.renderFourYears)(schoolList);\n    yield (0, cssTransitions_1.showRandomLoadingGif)();\n}));\nyearList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    majorList.replaceChildren();\n    classList.replaceChildren();\n    if (selectedSchool.value) {\n        (0, assistDataRender_1.renderMajorData)(majorList, Number(receivingId), Number(year));\n    }\n    (0, cssTransitions_1.applyDisabledState)(majorList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(classList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nschoolList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    (0, assistDataRender_1.renderMajorData)(majorList, Number(receivingId), Number(year));\n    majorList.replaceChildren();\n    classList.replaceChildren();\n    (0, cssTransitions_1.applyDisabledState)(classList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nmajorList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    const selectedMajor = majorList.options[majorList.selectedIndex];\n    const majorKey = selectedMajor.dataset.key;\n    classList.replaceChildren();\n    (0, assistDataRender_1.renderLowerDivs)(classList, Number(receivingId), majorKey, Number(year));\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nclassList.addEventListener(\"change\", () => {\n    (0, cssTransitions_1.removeDisabledState)(submit.parentNode);\n});\nsubmit.addEventListener(\"click\", (event) => __awaiter(void 0, void 0, void 0, function* () {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    const selectedMajor = majorList.options[majorList.selectedIndex];\n    const majorKey = selectedMajor.dataset.key;\n    const selectedClass = classList.options[classList.selectedIndex];\n    const courseId = selectedClass.dataset.id;\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n    if (classList.value) {\n        const links = yield (0, articulationFetcher_1.getArticulationParams)(receivingId, majorKey, year);\n        const fullCourseId = `${courseId}_${year}`;\n        (0, cssTransitions_1.hideSplash)();\n        if (selectedClass) {\n            (0, utils_1.changeSelectedClassTxt)(selectedClass.textContent);\n            const articulationData = yield (0, articulationFetcher_1.getArticulationData)(links, courseId, year);\n            const { articulations, updateProgress } = articulationData;\n            const toggleHandler = (0, cids_1.addToggleListener)(fullCourseId, articulations, links.length, updateProgress);\n            (0, utils_1.addBackBtnListener)(cids_1.removeToggleListener, toggleHandler);\n        }\n    }\n    event.preventDefault();\n}));\ncloseDialogBtn.addEventListener(\"click\", () => {\n    (0, cssTransitions_1.closeDialog)();\n});\ncidInfo.addEventListener(\"click\", () => {\n    (0, elementPresets_1.cidPrompt)();\n    (0, cssTransitions_1.showDialog)();\n});\nbackButton.addEventListener(\"click\", () => {\n    (0, cssTransitions_1.removeDisabledState)(submit.parentNode);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isLowerDiv = isLowerDiv;\nexports.isSeriesIdObject = isSeriesIdObject;\nexports.isUnfilteredSeries = isUnfilteredSeries;\nexports.isSeries = isSeries;\nexports.isArticulation = isArticulation;\nfunction isLowerDiv(item) {\n    if (typeof item.prefix === \"string\" &&\n        typeof item.courseNumber === \"number\" &&\n        typeof item.courseTitle === \"string\" &&\n        (typeof item.courseId === \"undefined\" || typeof item.courseId === \"number\")) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeriesIdObject(item) {\n    if (typeof item.seriesId === \"number\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isUnfilteredSeriesItem(item) {\n    if (item === \"string\" || isLowerDiv(item) || isSeriesIdObject(item)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isUnfilteredSeries(array) {\n    if (Array.isArray(array) && array.every(isUnfilteredSeriesItem)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeriesItem(item) {\n    if (isLowerDiv(item) || typeof item === \"string\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeries(array) {\n    if (Array.isArray(array) && array.every(isSeriesItem)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isArticulation(item) {\n    if (isLowerDiv(item) || isSeries(item)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCommunityColleges = getCommunityColleges;\nexports.getFourYears = getFourYears;\nexports.getMajorData = getMajorData;\nexports.getLowerDivs = getLowerDivs;\nconst schoolDataFetcher = process.env.SCHOOL_DATA_FETCHER;\nfunction fetchSchoolData(url) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let schoolData;\n        try {\n            const response = yield fetch(url);\n            const data = yield response.json();\n            schoolData = Object.values(data);\n        }\n        catch (error) {\n            console.error(\"error fetching school data:\", error);\n        }\n        return schoolData;\n    });\n}\nfunction fetchLowerDivs(receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let lowerDivs; // series add dimensions\n        try {\n            const endpoint = `${schoolDataFetcher}/lower-divs/${year}/6/${receivingId}/${key}`; // 6 is a placeholder community college\n            const response = yield fetch(endpoint);\n            const data = yield response.json();\n            lowerDivs = Object.values(data);\n        }\n        catch (error) {\n            console.log(\"error fetching lower divs:\", error);\n        }\n        return lowerDivs;\n    });\n}\nfunction getCommunityColleges() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let communityColleges;\n        try {\n            const endpoint = `${schoolDataFetcher}/community-colleges`;\n            const latestData = yield fetchSchoolData(endpoint);\n            communityColleges = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving community colleges:\", error);\n        }\n        return communityColleges;\n    });\n}\nfunction getFourYears() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let fourYears;\n        try {\n            const endpoint = `${schoolDataFetcher}/four-years`;\n            const latestData = yield fetchSchoolData(endpoint);\n            fourYears = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving four years:\", error);\n        }\n        return fourYears;\n    });\n}\nfunction getMajorData(receivingId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let majorData;\n        try {\n            const endpoint = `${schoolDataFetcher}/major-data/${receivingId}/${year}`;\n            const response = yield fetch(endpoint);\n            const data = yield response.json();\n            majorData = Object.values(data);\n        }\n        catch (error) {\n            console.error(`Error fetching majors for ${receivingId}:`, error);\n        }\n        return majorData;\n    });\n}\nfunction getLowerDivs(receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let lowerDivs;\n        try {\n            const latestData = yield fetchLowerDivs(receivingId, key, year);\n            lowerDivs = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving lower divs:\", error);\n        }\n        return lowerDivs;\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderFourYears = renderFourYears;\nexports.renderMajorData = renderMajorData;\nexports.getClassName = getClassName;\nexports.getId = getId;\nexports.renderLowerDivs = renderLowerDivs;\nexports.organizeArticulations = organizeArticulations;\nexports.createClassLists = createClassLists;\nconst elementPresets_1 = require(\"./elementPresets\");\nconst cssTransitions_1 = require(\"./cssTransitions\");\nconst schoolDataFetch_1 = require(\"../apiHitters/schoolDataFetch\");\nconst utils_1 = require(\"../utils\");\nconst assistDataCheckers_1 = require(\"../../interfaces/assistDataCheckers\");\nfunction renderFourYears(schoolList) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = schoolList.parentNode;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.showDialog)();\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const fourYears = yield (0, schoolDataFetch_1.getFourYears)();\n        const placeholder = (0, elementPresets_1.defaultOption)(\"school\");\n        schoolList.appendChild(placeholder);\n        fourYears.forEach((school) => {\n            if (school.id < 200) {\n                const option = (0, elementPresets_1.selectOption)(school.name, school.id, \"sending\");\n                schoolList.appendChild(option);\n            }\n        });\n        (0, cssTransitions_1.closeDialog)();\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction renderMajorData(majorList, receivingId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = majorList.parentElement;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const majorData = yield (0, schoolDataFetch_1.getMajorData)(receivingId, year);\n        const placeholder = (0, elementPresets_1.defaultOption)(\"major\");\n        majorList.replaceChildren();\n        majorList.appendChild(placeholder);\n        majorData.forEach((majorObj) => {\n            const option = (0, elementPresets_1.selectOption)(majorObj.major, majorObj.key, \"key\");\n            majorList.appendChild(option);\n        });\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction getSeriesString(seriesArray) {\n    const seriesArrayCopy = seriesArray.slice();\n    const filtered = (0, utils_1.filterSeries)(seriesArrayCopy); // filters out SeriesIdObject\n    let seriesString = \"\";\n    filtered.forEach((item, index) => {\n        let courseConnector;\n        if ((0, assistDataCheckers_1.isLowerDiv)(item)) {\n            const { prefix, courseNumber } = item;\n            const className = `${prefix} ${courseNumber}`;\n            seriesString += className;\n        }\n        else if (typeof item === \"string\") {\n            courseConnector = item.toLowerCase();\n            seriesString += courseConnector;\n        }\n        if (index < filtered.length - 1) {\n            seriesString += \" \";\n        }\n    });\n    return seriesString;\n}\nfunction getClassName(objOrArray) {\n    let formattedClass = \"\";\n    if ((0, assistDataCheckers_1.isLowerDiv)(objOrArray)) {\n        formattedClass = `${objOrArray.prefix} ${objOrArray.courseNumber} - ${objOrArray.courseTitle}`;\n    }\n    else if (Array.isArray(objOrArray)) {\n        formattedClass = getSeriesString(objOrArray);\n    }\n    return formattedClass;\n}\nfunction getId(objOrArray) {\n    let id;\n    if ((0, assistDataCheckers_1.isLowerDiv)(objOrArray)) {\n        id = objOrArray.courseId;\n    }\n    else if ((0, assistDataCheckers_1.isUnfilteredSeries)(objOrArray)) {\n        for (let i = 0; i < objOrArray.length; i += 1) {\n            const item = objOrArray[i];\n            if ((0, assistDataCheckers_1.isSeriesIdObject)(item)) {\n                id = item.seriesId;\n            }\n        }\n    }\n    return id;\n}\nfunction renderLowerDivs(classList, receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = classList.parentNode;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const lowerDivs = yield (0, schoolDataFetch_1.getLowerDivs)(receivingId, key, year);\n        const placeholder = (0, elementPresets_1.defaultOption)(\"class\");\n        classList.replaceChildren();\n        classList.appendChild(placeholder);\n        lowerDivs.forEach((lowerDiv, classIndex) => {\n            const className = getClassName(lowerDiv);\n            const id = getId(lowerDiv);\n            const option = (0, elementPresets_1.lowerDivOption)(className, classIndex, id);\n            classList.appendChild(option);\n        });\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction organizeArticulations() {\n    const articulationsDiv = document.querySelector(\".articulations\");\n    const classLists = document.querySelectorAll(\".class-list\");\n    const listArray = Array.from(classLists);\n    if (classLists.length === 0) {\n        (0, elementPresets_1.noArticulations)(articulationsDiv);\n    }\n    else {\n        listArray.sort((a, b) => {\n            const currentButton = a.querySelector(\"button\");\n            const nextButton = b.querySelector(\"button\");\n            if (currentButton && nextButton) {\n                return currentButton.textContent.localeCompare(nextButton.textContent);\n            }\n            return 0;\n        });\n        listArray.forEach((list) => {\n            articulationsDiv.appendChild(list);\n        });\n    }\n}\nfunction sortClassData(classData) {\n    classData.sort((a, b) => {\n        if (typeof a === \"string\") {\n            return 0;\n        }\n        if (typeof b === \"string\") {\n            return 0;\n        }\n        if (\"prefix\" in a && \"prefix\" in b) {\n            const prefixComparison = a.prefix.localeCompare(b.prefix);\n            if (prefixComparison !== 0)\n                return prefixComparison;\n        }\n        if (\"courseNumber\" in a && \"courseNumber\" in b) {\n            const courseNumberComparison = a.courseNumber.localeCompare(b.courseNumber);\n            if (courseNumberComparison !== 0)\n                return courseNumberComparison;\n        }\n        return 0;\n    });\n    return classData;\n}\nfunction renderItems(items, classListDiv) {\n    const sortedItems = sortClassData(items);\n    for (let i = 0; i < sortedItems.length;) {\n        const subitem = sortedItems[i];\n        if ((0, assistDataCheckers_1.isSeries)(subitem)) {\n            renderItems(subitem, classListDiv);\n        }\n        else if (typeof subitem === \"string\") {\n            if (subitem.toLowerCase() === \"and\") {\n                (0, elementPresets_1.connector)(subitem, classListDiv);\n            }\n            else if (subitem.toLowerCase() === \"or\") {\n                (0, elementPresets_1.conjunction)(subitem, classListDiv);\n            }\n        }\n        else if ((0, assistDataCheckers_1.isLowerDiv)(subitem)) {\n            const className = `${subitem.prefix} ${subitem.courseNumber} - ${subitem.courseTitle}`;\n            const courseElement = (0, elementPresets_1.course)(className, classListDiv);\n            if (subitem.cid) {\n                const cidElement = (0, elementPresets_1.cid)(subitem.cid);\n                courseElement.appendChild(cidElement);\n            }\n        }\n        i += 1;\n    }\n}\nfunction createClassLists(articulation) {\n    if (articulation && articulation.result) {\n        const { result } = articulation;\n        const courseCache = [];\n        let collegeName = \"\";\n        let agreementLink = \"\";\n        for (let i = 0; i < result.length;) {\n            const item = result[i];\n            if (item) {\n                if (typeof item == \"object\" && \"ccName\" in item) {\n                    collegeName = item.ccName;\n                }\n                else if (typeof item == \"object\" && \"agreementLink\" in item) {\n                    agreementLink = item.agreementLink;\n                }\n                else if (typeof item === \"string\" || (0, assistDataCheckers_1.isArticulation)(item)) {\n                    courseCache.push(item);\n                }\n                if (collegeName && agreementLink) {\n                    const classListDiv = (0, elementPresets_1.classListMainDiv)();\n                    (0, elementPresets_1.classListHeader)(classListDiv, collegeName, agreementLink);\n                    renderItems(courseCache, classListDiv);\n                }\n            }\n            i += 1;\n        }\n    }\n}\n","\"use strict\";\n/* eslint-disable import/no-cycle */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRandomLoadingGif = getRandomLoadingGif;\nexports.updateProgressTracker = updateProgressTracker;\nexports.createProgressTracker = createProgressTracker;\nexports.changeSelectedClassTxt = changeSelectedClassTxt;\nexports.resetResults = resetResults;\nexports.filterSeries = filterSeries;\nexports.abortHandler = abortHandler;\nexports.addBackBtnListener = addBackBtnListener;\nconst wait_for_element_transition_1 = __importDefault(require(\"wait-for-element-transition\"));\nconst cssTransitions_1 = require(\"./domFunctions/cssTransitions\");\nconst assistDataCheckers_1 = require(\"../interfaces/assistDataCheckers\");\nfunction getRandomLoadingGif(imgElement) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const response = yield fetch(process.env.LOADING_GIF_ENDPOINT, {\n            mode: \"cors\",\n        });\n        const gifData = yield response.json();\n        try {\n            if (gifData) {\n                imgElement.src = gifData.data.images.original.url;\n            }\n        }\n        catch (error) {\n            console.log(error);\n        }\n    });\n}\nfunction updateProgressTracker(collegesProcessed, totalColleges) {\n    const progressTracker = document.querySelector(\".progress-tracker\");\n    progressTracker.textContent = `${collegesProcessed} out of ${totalColleges} colleges searched`;\n}\nfunction createProgressTracker(linksLength) {\n    let totalProcessed = 0;\n    const updateProgress = (processed) => {\n        totalProcessed += processed;\n        updateProgressTracker(totalProcessed, linksLength);\n    };\n    return updateProgress;\n}\nfunction changeSelectedClassTxt(classString) {\n    const selectedClass = document.querySelector(\".selected-class\");\n    selectedClass.textContent = `Articulations for: ${classString}`;\n}\nfunction resetResults() {\n    const results = document.querySelector(\".results\");\n    const progressTracker = document.querySelector(\".progress-tracker\");\n    const selectedClass = document.querySelector(\".selected-class\");\n    const articulations = document.querySelector(\".articulations\");\n    const cidInput = document.querySelector(\".cids > input\");\n    (0, wait_for_element_transition_1.default)(results).then(() => {\n        articulations.replaceChildren();\n        progressTracker.textContent = \"\";\n        selectedClass.textContent = \"\";\n        cidInput.checked = false;\n    });\n}\nfunction filterSeries(series) {\n    for (let i = 0; i < series.length;) {\n        const item = series[i];\n        if ((0, assistDataCheckers_1.isSeriesIdObject)(item)) {\n            series.splice(i, 1);\n        }\n        i += 1;\n    }\n    return series;\n}\nfunction abortRequest(abortController) {\n    abortController.abort();\n    // clean code???????????\n    (0, cssTransitions_1.hideCidSlider)();\n    (0, cssTransitions_1.hideResults)();\n    (0, cssTransitions_1.hideBackButton)();\n    (0, cssTransitions_1.showSplash)();\n    resetResults();\n}\nfunction abortHandler(abortController) {\n    const abortButton = document.querySelector(\".back\");\n    let isAborted = false;\n    abortButton.addEventListener(\"click\", () => {\n        isAborted = true;\n        abortRequest(abortController);\n    });\n    return { signal: abortController.signal, isAborted };\n}\nfunction removeBackBtnListener(backHandler) {\n    const backButton = document.querySelector(\".back\");\n    backButton.removeEventListener(\"click\", backHandler);\n}\nfunction addBackBtnListener(removeToggleListener, toggleHandler) {\n    const backButton = document.querySelector(\".back\");\n    function backHandler() {\n        removeToggleListener(toggleHandler);\n        removeBackBtnListener(backHandler);\n    }\n    backButton.addEventListener(\"click\", backHandler);\n    return backHandler;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(156);\n"],"names":["getCssPropUnitMap","v","numParts","trim","match","num","unit","numString","split","Number","el","duration","getCssComputedProperty","prop","window","getComputedStyle","getPropertyValue","style","cssProp","replace","letter","toUpperCase","delayProp","durationProp","times","Array","isArray","delay","map","highest","push","apply","forEach","value","val","undefined","convertCssTimeValueToMilliseconds","getTransitionDuration","Promise","resolve","setTimeout","async","getArticulationParams","receivingId","majorKey","year","articulationParams","communityColleges","getCommunityColleges","receiving","key","college","id","sending","link","agreementLink","processChunks","processingQueue","signal","courseId","updateProgress","assistArticulations","linksChunk","length","splice","streamArticulations","links","linksList","JSON","stringify","endpoint","response","fetch","body","method","headers","Connection","stream","reader","getReader","decoder","TextDecoder","accumulatedData","done","read","decode","end","indexOf","jsonString","slice","articulation","parse","result","createClassLists","error","console","processStream","requestArticulations","name","log","createListFromDb","dbResponse","linksLength","articulations","i","hideLoadingContainer","showCidSlider","getArticulationData","fullCourseId","abortController","AbortController","isAborted","abortHandler","createProgressTracker","addEventListener","abort","showResults","status","json","processingPrompt","showDialog","err","getClassFromDb","organizeArticulations","cacheFinalizeError","finalizeSearch","removeEventListener","cidsToggle","document","querySelector","checkForCids","item","prefix","courseNumber","courseTitle","cid","showCids","querySelectorAll","element","display","toggleCids","state","savedArticulations","checked","newArticulations","disableCidSection","enableCidSection","appendCids","replaceChildren","addToggleListener","handler","removeToggleListener","dialog","form","img","results","loadingContainer","backButton","cidSlider","hideBackButton","opacity","then","showModal","closeDialog","secondLine","removeChild","height","close","showLoadingText","loadingText","loading","hideLoadingText","applyDisabledState","formRow","row","select","children","disabled","node","setAttribute","removeDisabledState","startLoading","stopLoading","hideSplash","showRandomLoadingGif","getRandomLoadingGif","hideCidSlider","hideResults","showSplash","cidSection","label","toggle","selectOption","keyword","option","createElement","textContent","lowerDivOption","text","defaultOption","selected","classListMainDiv","classListDiv","classList","add","append","classListHeader","parentDiv","collegeName","linkElement","href","target","course","className","parent","textElement","appendChild","connector","conjunction","noArticulations","cidText","spanElement","cidPrompt","secondLineDiv","line2","cidLink","__awaiter","this","thisArg","_arguments","P","generator","reject","fulfilled","step","next","e","rejected","Object","defineProperty","exports","articulationFetcher_1","assistDataRender_1","cssTransitions_1","utils_1","cids_1","elementPresets_1","schoolList","getElementById","majorList","yearList","selects","submit","closeDialogBtn","cidInfo","parentNode","renderFourYears","options","selectedIndex","selectedSchool","dataset","renderMajorData","renderLowerDivs","event","selectedClass","changeSelectedClassTxt","articulationData","toggleHandler","addBackBtnListener","preventDefault","isLowerDiv","isSeriesIdObject","seriesId","isUnfilteredSeriesItem","isSeriesItem","isSeries","array","every","isUnfilteredSeries","isArticulation","schoolDataFetcher","fetchSchoolData","getFourYears","fourYears","getMajorData","majorData","data","values","getLowerDivs","lowerDivs","latestData","fetchLowerDivs","url","schoolData","schoolDataFetch_1","placeholder","school","parentElement","majorObj","major","getClassName","getId","lowerDiv","classIndex","articulationsDiv","classLists","listArray","from","sort","a","b","currentButton","nextButton","localeCompare","list","courseCache","ccName","assistDataCheckers_1","renderItems","objOrArray","formattedClass","seriesArray","seriesArrayCopy","filtered","filterSeries","seriesString","index","courseConnector","toLowerCase","getSeriesString","items","sortedItems","classData","prefixComparison","courseNumberComparison","subitem","courseElement","cidElement","__importDefault","mod","__esModule","imgElement","mode","gifData","src","images","original","updateProgressTracker","totalProcessed","processed","classString","resetResults","series","abortButton","abortRequest","backHandler","removeBackBtnListener","wait_for_element_transition_1","collegesProcessed","totalColleges","progressTracker","cidInput","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","call","n","getter","d","definition","o","enumerable","get","obj","prototype","hasOwnProperty","r","Symbol","toStringTag"],"sourceRoot":""}