{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./node_modules/wait-for-element-transition/dist/wait-for-element-transition.js","webpack://webpack-template/./src/public/domFunctions/cssTransitions.js","webpack://webpack-template/./src/public/domFunctions/elementPresets.js","webpack://webpack-template/./src/index.ts","webpack://webpack-template/./src/interfaces/assistDataCheckers.ts","webpack://webpack-template/./src/public/apiHitters/articulationFetcher.ts","webpack://webpack-template/./src/public/apiHitters/cids.ts","webpack://webpack-template/./src/public/apiHitters/schoolDataFetch.ts","webpack://webpack-template/./src/public/domFunctions/assistDataRender.ts","webpack://webpack-template/./src/public/utils.ts","webpack://webpack-template/webpack/bootstrap","webpack://webpack-template/webpack/runtime/compat get default export","webpack://webpack-template/webpack/runtime/define property getters","webpack://webpack-template/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-template/webpack/runtime/make namespace object","webpack://webpack-template/webpack/startup"],"sourcesContent":["/*!\n  * Wait-for-element-transition v3.3.1\n  * https://github.com/markcellus/wait-for-element-transition#readme\n  *\n  * Copyright (c) 2022 Mark\n  * Licensed under the MIT license\n */\n\n/**\r\n * Takes a value and separates the number and unit into a key/value map.\r\n */\r\nconst getCssPropUnitMap = (v) => {\r\n    v = v.trim();\r\n    const numParts = v.match('[0-9.]+');\r\n    let unit = 'ms';\r\n    let num;\r\n    const numString = numParts ? numParts[0] : '';\r\n    if (numString) {\r\n        unit = v.split(numString)[1];\r\n        num = Number(numString);\r\n    }\r\n    return {\r\n        num,\r\n        unit,\r\n    };\r\n};\r\n/**\r\n * Converts a css timing unit value into milliseconds.\r\n */\r\nconst convertCssTimeValueToMilliseconds = (val) => {\r\n    const map = getCssPropUnitMap(val);\r\n    const num = map ? map.num : undefined;\r\n    if (!num) {\r\n        return '';\r\n    }\r\n    const unit = val.replace(num + '', '');\r\n    let value = num;\r\n    if (unit === 's') {\r\n        value = num * 1000;\r\n    }\r\n    return value + 'ms';\r\n};\r\n/**\r\n * Gets the time is takes for the element to transition to its show state.\r\n */\r\nfunction getTransitionDuration(el) {\r\n    /**\r\n     * Takes a css property name and returns the javascript version of it.\r\n     */\r\n    const getJsPropName = (cssProp) => {\r\n        // convert to camelCase\r\n        return cssProp.replace(/-([a-z])/g, (letter) => {\r\n            return letter[1].toUpperCase();\r\n        });\r\n    };\r\n    /**\r\n     * Gets the computed property of the element.\r\n     */\r\n    const getCssComputedProperty = (prop) => {\r\n        const style = window.getComputedStyle(el);\r\n        return (style.getPropertyValue(prop) ||\r\n            el.style[getJsPropName(prop)]);\r\n    };\r\n    const delayProp = getCssComputedProperty('transition-delay') || '0ms';\r\n    const durationProp = getCssComputedProperty('transition-duration') || '0ms';\r\n    const times = Array.isArray(durationProp) ? durationProp : [durationProp];\r\n    const delay = Array.isArray(delayProp) ? delayProp : [delayProp];\r\n    let highest = 0;\r\n    let map;\r\n    times.push.apply(times, delay); // account for delay\r\n    // calculate highest number of time\r\n    times.forEach((value) => {\r\n        value.split(',').forEach((v) => {\r\n            v = convertCssTimeValueToMilliseconds(v);\r\n            map = getCssPropUnitMap(v);\r\n            if (map.num && map.num > highest) {\r\n                highest = map.num;\r\n            }\r\n        });\r\n    });\r\n    return highest;\r\n}\r\n/**\r\n * Builds a transition promise that waits to resolve until the module el's CSS transition is completed (if applicable).\r\n */\r\nfunction waitForElementTransition(el) {\r\n    const duration = getTransitionDuration(el);\r\n    return new Promise((resolve) => {\r\n        if (duration > 0) {\r\n            setTimeout(() => {\r\n                resolve(el);\r\n            }, duration);\r\n        }\r\n        else {\r\n            resolve(el);\r\n        }\r\n    });\r\n}\n\nexport default waitForElementTransition;\n","import waitForElementTransition from \"wait-for-element-transition\";\n\nimport { getRandomLoadingGif } from \"../utils\";\n\nconst dialog = document.querySelector(\"dialog\");\nconst form = document.querySelector(\"form\");\nconst img = document.querySelector(\"img.loading-gif\");\nconst results = document.querySelector(\".results\");\nconst loadingContainer = document.querySelector(\".loading-container\");\nconst backButton = document.querySelector(\".back\");\nconst cidSlider = document.querySelector(\".cid-section\");\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nfunction showLoadingContainer() {\n  loadingContainer.style.opacity = 1;\n  loadingContainer.style.display = \"flex\";\n}\n\nfunction showBackButton() {\n  backButton.style.opacity = 1;\n  backButton.style.display = \"block\";\n}\n\nexport function hideBackButton() {\n  backButton.style.opacity = 0;\n\n  waitForElementTransition(backButton).then(async () => {\n    backButton.style.display = \"none\";\n  });\n}\n\nexport function showDialog() {\n  dialog.showModal();\n  dialog.style.opacity = 1;\n}\n\nexport function closeDialog() {\n  const secondLine = dialog.querySelector(\".cid-second-line\");\n\n  if (secondLine) dialog.removeChild(secondLine);\n\n  dialog.style.height = \"100px\";\n  dialog.style.opacity = 0;\n  dialog.close();\n}\n\nexport function showLoadingText(loadingText) {\n  const loading = loadingText;\n  loading.style.opacity = 1;\n  loading.style.display = \"block\";\n}\n\nexport function hideLoadingText(loadingText) {\n  const loading = loadingText;\n\n  loading.style.opacity = 0;\n  loading.style.display = \"none\";\n}\n\nexport function applyDisabledState(formRow) {\n  const row = formRow;\n\n  const select = row.querySelector(\"select\");\n  const children = row.querySelectorAll(\":not(.loading)\");\n\n  if (select) {\n    select.disabled = true;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n\n    element.setAttribute(\"aria-disabled\", \"true\");\n  });\n}\n\nexport function removeDisabledState(formRow) {\n  const row = formRow;\n\n  const select = row.querySelector(\"select\");\n  const children = row.querySelectorAll(\":not(.loading)\");\n\n  if (select) {\n    select.disabled = false;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n    element.setAttribute(\"aria-disabled\", \"false\");\n  });\n}\n\nexport function startLoading(formRow, loadingText) {\n  applyDisabledState(formRow);\n  showLoadingText(loadingText);\n}\n\nexport function stopLoading(formRow, loadingText) {\n  removeDisabledState(formRow);\n  hideLoadingText(loadingText);\n}\n\nexport function hideSplash() {\n  form.style.opacity = 0;\n  waitForElementTransition(form).then(() => {\n    form.style.display = \"none\";\n  });\n}\n\nexport async function showRandomLoadingGif() {\n  waitForElementTransition(form).then(async () => {\n    await getRandomLoadingGif(img);\n\n    img.style.display = \"block\";\n    img.style.opacity = 1;\n  });\n}\n\nexport function showResults() {\n  waitForElementTransition(form).then(() => {\n    results.style.opacity = 1;\n    showLoadingContainer();\n    showBackButton();\n  });\n\n  results.style.display = \"flex\";\n}\n\nexport function hideLoadingContainer() {\n  // below code block, can turn into hideElement(element) function?\n  loadingContainer.style.opacity = 0;\n\n  waitForElementTransition(loadingContainer).then(() => {\n    loadingContainer.style.display = \"none\";\n  });\n}\n\nexport function hideCidSlider() {\n  cidSlider.style.opacity = 0;\n\n  waitForElementTransition(cidSlider).then(() => {\n    cidSlider.style.display = \"none\";\n  });\n}\n\nexport function hideResults() {\n  results.style.opacity = \"0\";\n\n  waitForElementTransition(results).then(() => {\n    results.style.display = \"none\";\n  });\n}\n\nexport function showSplash() {\n  waitForElementTransition(results).then(() => {\n    form.style.opacity = 1;\n  });\n\n  waitForElementTransition(form).then(() => {\n    form.style.display = \"flex\";\n  });\n}\n\nexport function showCidSlider() {\n  waitForElementTransition(loadingContainer).then(() => {\n    cidSlider.style.opacity = 1;\n  });\n\n  cidSlider.style.display = \"flex\";\n}\n\nexport function disableCidSection() {\n  const cidSection = document.querySelector(\".cid-section\");\n\n  const label = cidSection.querySelector(\".cids\");\n  const toggle = cidSection.querySelector(\".cids > input\");\n\n  const children = label.querySelectorAll(\"*\");\n\n  if (toggle) {\n    toggle.disabled = true;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n\n    element.setAttribute(\"aria-disabled\", \"true\");\n  });\n}\n\nexport function enableCidSection() {\n  const cidSection = document.querySelector(\".cid-section\");\n\n  const label = cidSection.querySelector(\".cids\");\n  const toggle = cidSection.querySelector(\".cids > input\");\n\n  const children = label.querySelectorAll(\"*\");\n\n  if (toggle) {\n    toggle.disabled = false;\n  }\n\n  children.forEach((node) => {\n    const element = node;\n    element.setAttribute(\"aria-disabled\", \"false\");\n  });\n}\n","export function selectOption(value, id, keyword) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = value;\n  option.value = value;\n\n  if (id && keyword) {\n    option.setAttribute(`data-${keyword}`, id);\n  }\n\n  return option;\n}\n\nexport function lowerDivOption(text, value, id) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = text;\n  option.value = value;\n\n  option.setAttribute(\"data-id\", id);\n\n  return option;\n}\n\nexport function defaultOption(keyword) {\n  const option = document.createElement(\"option\");\n\n  option.textContent = `Select a ${keyword}`;\n  option.value = \"\";\n  option.disabled = true;\n  option.selected = true;\n\n  return option;\n}\n\nexport function classListMainDiv() {\n  const articulations = document.querySelector(\".articulations\");\n  const classListDiv = document.createElement(\"div\");\n\n  classListDiv.classList.add(\"class-list\");\n\n  classListDiv.style.display = \"flex\";\n  classListDiv.style.opacity = \"1\";\n\n  articulations.append(classListDiv);\n\n  return classListDiv;\n}\n\nexport function classListHeader(parentDiv, collegeName, agreementLink) {\n  const linkElement = document.createElement(\"a\");\n\n  linkElement.href = agreementLink;\n  linkElement.target = \"_blank\";\n\n  linkElement.textContent = collegeName;\n\n  parentDiv.append(linkElement);\n}\n\nexport function course(className, parent) {\n  const textElement = document.createElement(\"p\");\n\n  textElement.textContent = className;\n  parent.appendChild(textElement);\n\n  return textElement;\n}\n\nexport function connector(text, parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"connector\");\n\n  textElement.textContent = text;\n  parent.appendChild(textElement);\n}\n\nexport function conjunction(text, parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"conjunction\");\n\n  textElement.textContent = text;\n  parent.appendChild(textElement);\n}\n\nexport function noArticulations(parent) {\n  const textElement = document.createElement(\"p\");\n  textElement.classList.add(\"no-articulations\");\n\n  textElement.textContent = \"No articulations found.\";\n  parent.appendChild(textElement);\n\n  textElement.style.opacity = 1;\n}\n\nexport function processingPrompt() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent = \"Data may be processing. Try again shortly.\";\n}\n\nexport function cacheFinalizeError() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent = \"Failed to complete search. Try again shortly.\";\n}\n\nexport function cid(cidText) {\n  const spanElement = document.createElement(\"span\");\n\n  spanElement.classList.add(\"cid\");\n  spanElement.textContent = `(${cidText})`;\n\n  return spanElement;\n}\n\nexport function cidPrompt() {\n  const dialog = document.querySelector(\"dialog\");\n  const dialogText = dialog.querySelector(\"p\");\n\n  dialogText.textContent =\n    \"C-IDs (course identification numbers) make it easy to identify equivalent courses across California Community Colleges.\";\n\n  const secondLineDiv = document.createElement(\"div\");\n  secondLineDiv.classList.add(\"cid-second-line\");\n\n  const line2 = document.createElement(\"p\");\n  line2.textContent =\n    \"Some C-IDs may not be visible due to inconsistencies in data. All available data can be found on the \";\n\n  const cidLink = document.createElement(\"a\");\n\n  cidLink.textContent = \"C-ID website.\";\n  cidLink.href = \"https://c-id.net\";\n  cidLink.target = \"_blank\";\n\n  line2.appendChild(cidLink);\n\n  secondLineDiv.appendChild(line2);\n\n  dialog.appendChild(secondLineDiv);\n\n  dialog.style.height = \"250px\";\n}\n","\"use strict\";\n/* eslint-disable no-unused-vars */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst articulationFetcher_1 = require(\"./public/apiHitters/articulationFetcher\");\nconst assistDataRender_1 = require(\"./public/domFunctions/assistDataRender\");\nconst cssTransitions_1 = require(\"./public/domFunctions/cssTransitions\");\nconst utils_1 = require(\"./public/utils\");\nconst cids_1 = require(\"./public/apiHitters/cids\");\nconst elementPresets_1 = require(\"./public/domFunctions/elementPresets\");\nconst schoolList = document.getElementById(\"four-year\");\nconst majorList = document.getElementById(\"major\");\nconst classList = document.getElementById(\"class\");\nconst yearList = document.getElementById(\"academic-year\");\nconst selects = document.querySelectorAll(\"select\");\nconst submit = document.querySelector(\".submit\");\nconst backButton = document.querySelector(\".back\");\nconst closeDialogBtn = document.querySelector(\".close-dialog\");\nconst cidInfo = document.querySelector(\".cid-info\");\ndocument.addEventListener(\"DOMContentLoaded\", () => __awaiter(void 0, void 0, void 0, function* () {\n    for (let i = 2; i < selects.length;) {\n        if (selects[i].parentNode) {\n            (0, cssTransitions_1.applyDisabledState)(selects[i].parentNode);\n            i += 1;\n        }\n    }\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n    (0, assistDataRender_1.renderFourYears)(schoolList);\n    yield (0, cssTransitions_1.showRandomLoadingGif)();\n}));\nyearList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    majorList.replaceChildren();\n    classList.replaceChildren();\n    if (selectedSchool.value) {\n        (0, assistDataRender_1.renderMajorData)(majorList, Number(receivingId), Number(year));\n    }\n    (0, cssTransitions_1.applyDisabledState)(majorList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(classList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nschoolList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    (0, assistDataRender_1.renderMajorData)(majorList, Number(receivingId), Number(year));\n    majorList.replaceChildren();\n    classList.replaceChildren();\n    (0, cssTransitions_1.applyDisabledState)(classList.parentNode);\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nmajorList.addEventListener(\"input\", () => {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    const selectedMajor = majorList.options[majorList.selectedIndex];\n    const majorKey = selectedMajor.dataset.key;\n    classList.replaceChildren();\n    (0, assistDataRender_1.renderLowerDivs)(classList, Number(receivingId), majorKey, Number(year));\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n});\nclassList.addEventListener(\"change\", () => {\n    (0, cssTransitions_1.removeDisabledState)(submit.parentNode);\n});\nsubmit.addEventListener(\"click\", (event) => __awaiter(void 0, void 0, void 0, function* () {\n    const selectedYear = yearList.options[yearList.selectedIndex];\n    const year = selectedYear.value;\n    const selectedSchool = schoolList.options[schoolList.selectedIndex];\n    const receivingId = selectedSchool.dataset.sending;\n    const selectedMajor = majorList.options[majorList.selectedIndex];\n    const majorKey = selectedMajor.dataset.key;\n    const selectedClass = classList.options[classList.selectedIndex];\n    const courseId = selectedClass.dataset.id;\n    (0, cssTransitions_1.applyDisabledState)(submit.parentNode);\n    if (classList.value) {\n        const links = yield (0, articulationFetcher_1.getArticulationParams)(Number(receivingId), majorKey, Number(year));\n        const fullCourseId = `${courseId}_${year}`;\n        (0, cssTransitions_1.hideSplash)();\n        if (selectedClass) {\n            (0, utils_1.changeSelectedClassTxt)(selectedClass.textContent);\n            const articulationData = yield (0, articulationFetcher_1.getArticulationData)(links, courseId, Number(year));\n            const { articulations, updateProgress } = articulationData;\n            if (Array.isArray(articulations)) {\n                const toggleHandler = (0, cids_1.addToggleListener)(fullCourseId, articulations, links.length, updateProgress);\n                (0, utils_1.addBackBtnListener)(cids_1.removeToggleListener, toggleHandler);\n            }\n        }\n    }\n    event.preventDefault();\n}));\ncloseDialogBtn.addEventListener(\"click\", () => {\n    (0, cssTransitions_1.closeDialog)();\n});\ncidInfo.addEventListener(\"click\", () => {\n    (0, elementPresets_1.cidPrompt)();\n    (0, cssTransitions_1.showDialog)();\n});\nbackButton.addEventListener(\"click\", () => {\n    (0, cssTransitions_1.removeDisabledState)(submit.parentNode);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isLowerDiv = isLowerDiv;\nexports.isSeriesIdObject = isSeriesIdObject;\nexports.isUnfilteredSeries = isUnfilteredSeries;\nexports.isSeries = isSeries;\nexports.isArticulation = isArticulation;\nfunction isLowerDiv(item) {\n    if (typeof item.prefix === \"string\" &&\n        typeof item.courseNumber === \"string\" &&\n        typeof item.courseTitle === \"string\" &&\n        (typeof item.courseId === \"undefined\" ||\n            typeof item.courseId === \"number\") &&\n        (typeof item.cid === \"undefined\" || typeof item.cid === \"string\")) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeriesIdObject(item) {\n    if (typeof item.seriesId === \"string\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isUnfilteredSeriesItem(item) {\n    if (typeof item === \"string\" || isLowerDiv(item) || isSeriesIdObject(item)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isUnfilteredSeries(array) {\n    if (Array.isArray(array) && array.every(isUnfilteredSeriesItem)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeriesItem(item) {\n    if (isLowerDiv(item) || typeof item === \"string\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isSeries(array) {\n    if (Array.isArray(array) && array.every(isSeriesItem)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction isArticulation(item) {\n    if (isLowerDiv(item) || isSeries(item)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n","\"use strict\";\n/* eslint-disable consistent-return */\n/* eslint-disable no-await-in-loop */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getArticulationParams = getArticulationParams;\nexports.createListFromDb = createListFromDb;\nexports.getArticulationData = getArticulationData;\nconst assistDataRender_1 = require(\"../domFunctions/assistDataRender\");\nconst schoolDataFetch_1 = require(\"./schoolDataFetch\");\nconst cssTransitions_1 = require(\"../domFunctions/cssTransitions\");\nconst utils_1 = require(\"../utils\");\nconst elementPresets_1 = require(\"../domFunctions/elementPresets\");\nfunction getArticulationParams(receivingId, majorKey, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const articulationParams = [];\n        const communityColleges = yield (0, schoolDataFetch_1.getCommunityColleges)();\n        communityColleges.forEach((college) => {\n            if (college.id) {\n                const sending = college.id;\n                const link = `${process.env.ASSIST_API_PARAMS}=${year}/${sending}/to/${receivingId}/Major/${majorKey}`;\n                const agreementLink = `${process.env.ASSIST_AGREEMENT_PARAMS}=${year}&institution=${sending}&agreement=${receivingId}&agreementType=to&view=agreement&viewBy=major&viewSendingAgreements=false&viewByKey=${year}/${sending}/to/${receivingId}/Major/${majorKey}`;\n                articulationParams.push({ link, agreementLink });\n            }\n        });\n        return articulationParams;\n    });\n}\nfunction processStream(stream, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const reader = stream.getReader();\n        const decoder = new TextDecoder(\"utf-8\");\n        const streamArticulations = [];\n        let accumulatedData = \"\";\n        while (true) {\n            const { value, done } = yield reader.read();\n            if (done) {\n                break;\n            }\n            const decodedChunk = decoder.decode(value, { stream: true });\n            accumulatedData += decodedChunk;\n            let end = accumulatedData.indexOf(\"\\n\");\n            while (end !== -1) {\n                const jsonString = accumulatedData.slice(0, end);\n                accumulatedData = accumulatedData.slice(end + 1);\n                try {\n                    const articulation = JSON.parse(jsonString);\n                    if (articulation.result) {\n                        (0, assistDataRender_1.createClassLists)(articulation);\n                        streamArticulations.push(articulation);\n                    }\n                    updateProgress(1);\n                }\n                catch (error) {\n                    console.error(`error parsing articulation: ${error}`);\n                }\n                end = accumulatedData.indexOf(\"\\n\");\n            }\n        }\n        return streamArticulations;\n    });\n}\nfunction requestArticulations(links, signal, courseId, year, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let streamArticulations;\n        try {\n            const linksList = JSON.stringify(links);\n            const endpoint = `${process.env.NEW_ARTICULATION_FETCHER}/?courseId=${courseId}&year=${year}`;\n            const response = yield fetch(endpoint, {\n                body: linksList,\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Connection: \"keep-alive\",\n                },\n                signal,\n            });\n            streamArticulations = yield processStream(response.body, updateProgress);\n        }\n        catch (error) {\n            console.error(`error processing stream: ${error}`);\n        }\n        return streamArticulations;\n    });\n}\nfunction processChunks(processingQueue_1, signal_1, courseId_1, updateProgress_1, year_1) {\n    return __awaiter(this, arguments, void 0, function* (processingQueue, signal, courseId, updateProgress, year, assistArticulations = []) {\n        const concurrencyLimit = 29;\n        let linksChunk;\n        if (processingQueue.length === 0)\n            return assistArticulations;\n        if (processingQueue.length < concurrencyLimit) {\n            linksChunk = processingQueue.splice(0, processingQueue.length - 1);\n        }\n        else {\n            linksChunk = processingQueue.splice(0, concurrencyLimit);\n        }\n        try {\n            const streamArticulations = yield requestArticulations(linksChunk, signal, courseId, year, updateProgress);\n            assistArticulations.push(...streamArticulations);\n            return yield processChunks(processingQueue, signal, courseId, updateProgress, year, assistArticulations); // recursive call\n        }\n        catch (error) {\n            if (error.name === \"AbortError\") {\n                console.log(\"aborted request\");\n            }\n            else {\n                console.error(\"error processing chunk:\", error);\n            }\n        }\n    });\n}\nfunction createListFromDb(articulations, linksLength, updateProgress) {\n    for (let i = 0; i < articulations.length;) {\n        const articulation = articulations[i];\n        if (articulation) {\n            (0, assistDataRender_1.createClassLists)(articulation);\n        }\n        i += 1;\n    }\n    updateProgress(linksLength);\n    (0, cssTransitions_1.hideLoadingContainer)();\n    (0, cssTransitions_1.showCidSlider)();\n}\nfunction getClassFromDb(fullCourseId, linksLength, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const courseGrabber = process.env.COURSE_GRABBER;\n        try {\n            const response = yield fetch(`${courseGrabber}/${fullCourseId}`);\n            if (response.status === 200) {\n                const articulations = yield response.json();\n                createListFromDb(articulations, linksLength, updateProgress);\n                return articulations;\n            }\n            if (response.status === 204) {\n                console.log(\"restarting incomplete caching job...\");\n                return false;\n            }\n            if (response.status === 206) {\n                (0, cssTransitions_1.hideLoadingContainer)();\n                (0, elementPresets_1.processingPrompt)();\n                (0, cssTransitions_1.showDialog)();\n                return true;\n            }\n        }\n        catch (err) {\n            console.error(\"error getting class from db\", err);\n        }\n        return false;\n    });\n}\nfunction finalizeSearch(fullCourseId, articulations) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const cacheFinalizer = process.env.CACHE_COMPLETER;\n        if (articulations) {\n            (0, assistDataRender_1.organizeArticulations)();\n            try {\n                yield fetch(cacheFinalizer, {\n                    body: JSON.stringify({\n                        fullCourseId,\n                    }),\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                });\n                (0, cssTransitions_1.showCidSlider)();\n            }\n            catch (err) {\n                console.error(`error finalizing cache job: ${err}`);\n                (0, elementPresets_1.cacheFinalizeError)();\n            }\n        }\n    });\n}\nfunction getArticulationData(links, courseId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const fullCourseId = `${courseId}_${year}`;\n        const processingQueue = links.slice();\n        const abortController = new AbortController();\n        const { signal, isAborted } = (0, utils_1.abortHandler)(abortController);\n        const updateProgress = (0, utils_1.createProgressTracker)(links.length);\n        let articulations;\n        window.addEventListener(\"beforeunload\", () => abortController.abort());\n        (0, cssTransitions_1.showResults)();\n        updateProgress(0);\n        try {\n            articulations = yield getClassFromDb(fullCourseId, links.length, updateProgress);\n            if (!articulations) {\n                articulations = yield processChunks(processingQueue, signal, courseId, updateProgress, year);\n                (0, cssTransitions_1.hideLoadingContainer)();\n                if (!isAborted) {\n                    yield finalizeSearch(fullCourseId, articulations);\n                }\n            }\n        }\n        catch (error) {\n            if (error.name === \"AbortError\") {\n                console.log(\"requests aborted due to page unload\");\n            }\n            else {\n                console.error(\"error processing requests\", error);\n            }\n        }\n        finally {\n            window.removeEventListener(\"beforeunload\", () => abortController.abort());\n        }\n        return { articulations, updateProgress };\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addToggleListener = addToggleListener;\nexports.removeToggleListener = removeToggleListener;\nconst cssTransitions_1 = require(\"../domFunctions/cssTransitions\");\nconst articulationFetcher_1 = require(\"./articulationFetcher\");\nconst assistDataCheckers_1 = require(\"../../interfaces/assistDataCheckers\");\nconst cidsToggle = document.querySelector(\".cids > input\");\nfunction appendCids(courseId, articulations) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const endpoint = `${process.env.CID_APPENDER}/${courseId}`;\n        (0, cssTransitions_1.disableCidSection)();\n        const response = yield fetch(endpoint, {\n            body: JSON.stringify(articulations),\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n        let newArticulations;\n        if (response.status === 200) {\n            newArticulations = yield response.json();\n            (0, cssTransitions_1.enableCidSection)();\n        }\n        return newArticulations;\n    });\n}\nfunction checkForCids(articulations) {\n    for (let i = 0; i < articulations.length; i += 1) {\n        const item = articulations[i];\n        if (item &&\n            typeof item === \"object\" &&\n            \"result\" in item &&\n            Array.isArray(item.result)) {\n            if (checkForCids(item.result)) {\n                return true;\n            }\n        }\n        if (item && (0, assistDataCheckers_1.isSeries)(item) && checkForCids(item)) {\n            return true;\n        }\n        if (item && (0, assistDataCheckers_1.isLowerDiv)(item) && item.cid) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction showCids() {\n    const cidElements = document.querySelectorAll(\".cid\");\n    cidElements.forEach((element) => {\n        element.style.display = \"inline\";\n    });\n}\nfunction hideCids() {\n    const cidElements = document.querySelectorAll(\".cid\");\n    cidElements.forEach((element) => {\n        element.style.display = \"none\";\n    });\n}\nfunction toggleCids(courseId, state, linksLength, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const savedArticulations = state.articulations;\n        if (cidsToggle.checked) {\n            const hasCids = checkForCids(savedArticulations);\n            if (hasCids) {\n                showCids();\n            }\n            else {\n                const newArticulations = yield appendCids(courseId, savedArticulations);\n                const articulationsDiv = document.querySelector(\".articulations\");\n                articulationsDiv.replaceChildren();\n                (0, articulationFetcher_1.createListFromDb)(newArticulations, linksLength, updateProgress);\n                state.articulations = newArticulations;\n                showCids();\n            }\n        }\n        else {\n            hideCids();\n        }\n        return savedArticulations;\n    });\n}\nfunction addToggleListener(courseId, articulations, linksLength, updateProgress) {\n    const state = { articulations };\n    const handler = () => __awaiter(this, void 0, void 0, function* () { return toggleCids(courseId, state, linksLength, updateProgress); });\n    cidsToggle.addEventListener(\"change\", handler);\n    return handler;\n}\nfunction removeToggleListener(handler) {\n    cidsToggle.removeEventListener(\"change\", handler);\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCommunityColleges = getCommunityColleges;\nexports.getFourYears = getFourYears;\nexports.getMajorData = getMajorData;\nexports.getLowerDivs = getLowerDivs;\nconst schoolDataFetcher = process.env.SCHOOL_DATA_FETCHER;\nfunction fetchSchoolData(url) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let schoolData;\n        try {\n            const response = yield fetch(url);\n            const data = yield response.json();\n            schoolData = Object.values(data);\n        }\n        catch (error) {\n            console.error(\"error fetching school data:\", error);\n        }\n        return schoolData;\n    });\n}\nfunction fetchLowerDivs(receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let lowerDivs; // series add dimensions\n        try {\n            const endpoint = `${schoolDataFetcher}/lower-divs/${year}/6/${receivingId}/${key}`; // 6 is a placeholder community college\n            const response = yield fetch(endpoint);\n            const data = yield response.json();\n            lowerDivs = Object.values(data);\n        }\n        catch (error) {\n            console.log(\"error fetching lower divs:\", error);\n        }\n        return lowerDivs;\n    });\n}\nfunction getCommunityColleges() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let communityColleges;\n        try {\n            const endpoint = `${schoolDataFetcher}/community-colleges`;\n            const latestData = yield fetchSchoolData(endpoint);\n            communityColleges = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving community colleges:\", error);\n        }\n        return communityColleges;\n    });\n}\nfunction getFourYears() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let fourYears;\n        try {\n            const endpoint = `${schoolDataFetcher}/four-years`;\n            const latestData = yield fetchSchoolData(endpoint);\n            fourYears = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving four years:\", error);\n        }\n        return fourYears;\n    });\n}\nfunction getMajorData(receivingId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let majorData;\n        try {\n            const endpoint = `${schoolDataFetcher}/major-data/${receivingId}/${year}`;\n            const response = yield fetch(endpoint);\n            const data = yield response.json();\n            majorData = Object.values(data);\n        }\n        catch (error) {\n            console.error(`Error fetching majors for ${receivingId}:`, error);\n        }\n        return majorData;\n    });\n}\nfunction getLowerDivs(receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let lowerDivs;\n        try {\n            const latestData = yield fetchLowerDivs(receivingId, key, year);\n            lowerDivs = latestData;\n        }\n        catch (error) {\n            console.error(\"error retrieving lower divs:\", error);\n        }\n        return lowerDivs;\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderFourYears = renderFourYears;\nexports.renderMajorData = renderMajorData;\nexports.getClassName = getClassName;\nexports.getId = getId;\nexports.renderLowerDivs = renderLowerDivs;\nexports.organizeArticulations = organizeArticulations;\nexports.createClassLists = createClassLists;\nconst elementPresets_1 = require(\"./elementPresets\");\nconst cssTransitions_1 = require(\"./cssTransitions\");\nconst schoolDataFetch_1 = require(\"../apiHitters/schoolDataFetch\");\nconst utils_1 = require(\"../utils\");\nconst assistDataCheckers_1 = require(\"../../interfaces/assistDataCheckers\");\nfunction renderFourYears(schoolList) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = schoolList.parentNode;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.showDialog)();\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const fourYears = yield (0, schoolDataFetch_1.getFourYears)();\n        const placeholder = (0, elementPresets_1.defaultOption)(\"school\");\n        schoolList.appendChild(placeholder);\n        fourYears.forEach((school) => {\n            if (school.id < 200) {\n                const option = (0, elementPresets_1.selectOption)(school.name, school.id, \"sending\");\n                schoolList.appendChild(option);\n            }\n        });\n        (0, cssTransitions_1.closeDialog)();\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction renderMajorData(majorList, receivingId, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = majorList.parentElement;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const majorData = yield (0, schoolDataFetch_1.getMajorData)(receivingId, year);\n        const placeholder = (0, elementPresets_1.defaultOption)(\"major\");\n        majorList.replaceChildren();\n        majorList.appendChild(placeholder);\n        majorData.forEach((majorObj) => {\n            const option = (0, elementPresets_1.selectOption)(majorObj.major, majorObj.key, \"key\");\n            majorList.appendChild(option);\n        });\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction getSeriesString(seriesArray) {\n    const seriesArrayCopy = seriesArray.slice();\n    const filtered = (0, utils_1.filterSeries)(seriesArrayCopy); // filters out SeriesIdObject\n    let seriesString = \"\";\n    filtered.forEach((item, index) => {\n        let courseConnector;\n        if ((0, assistDataCheckers_1.isLowerDiv)(item)) {\n            const { prefix, courseNumber } = item;\n            const className = `${prefix} ${courseNumber}`;\n            seriesString += className;\n        }\n        else if (typeof item === \"string\") {\n            courseConnector = item.toLowerCase();\n            seriesString += courseConnector;\n        }\n        if (index < filtered.length - 1) {\n            seriesString += \" \";\n        }\n    });\n    return seriesString;\n}\nfunction getClassName(objOrArray) {\n    let formattedClass = \"\";\n    if ((0, assistDataCheckers_1.isLowerDiv)(objOrArray)) {\n        formattedClass = `${objOrArray.prefix} ${objOrArray.courseNumber} - ${objOrArray.courseTitle}`;\n    }\n    else if ((0, assistDataCheckers_1.isUnfilteredSeries)(objOrArray)) {\n        formattedClass = getSeriesString(objOrArray);\n    }\n    return formattedClass;\n}\nfunction getId(objOrArray) {\n    let id;\n    if ((0, assistDataCheckers_1.isLowerDiv)(objOrArray)) {\n        id = objOrArray.courseId;\n    }\n    else if ((0, assistDataCheckers_1.isUnfilteredSeries)(objOrArray)) {\n        for (let i = 0; i < objOrArray.length; i += 1) {\n            const item = objOrArray[i];\n            if ((0, assistDataCheckers_1.isSeriesIdObject)(item)) {\n                id = item.seriesId;\n            }\n        }\n    }\n    return id;\n}\nfunction renderLowerDivs(classList, receivingId, key, year) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const formRow = classList.parentNode;\n        const loadingText = formRow.querySelector(\".loading\");\n        (0, cssTransitions_1.startLoading)(formRow, loadingText);\n        const lowerDivs = yield (0, schoolDataFetch_1.getLowerDivs)(receivingId, key, year);\n        const placeholder = (0, elementPresets_1.defaultOption)(\"class\");\n        classList.replaceChildren();\n        classList.appendChild(placeholder);\n        lowerDivs.forEach((lowerDiv, classIndex) => {\n            const className = getClassName(lowerDiv);\n            const id = getId(lowerDiv);\n            const option = (0, elementPresets_1.lowerDivOption)(className, classIndex, id);\n            classList.appendChild(option);\n        });\n        (0, cssTransitions_1.stopLoading)(formRow, loadingText);\n    });\n}\nfunction organizeArticulations() {\n    const articulationsDiv = document.querySelector(\".articulations\");\n    const classLists = document.querySelectorAll(\".class-list\");\n    const listArray = Array.from(classLists);\n    if (classLists.length === 0) {\n        (0, elementPresets_1.noArticulations)(articulationsDiv);\n    }\n    else {\n        listArray.sort((a, b) => {\n            const currentButton = a.querySelector(\"button\");\n            const nextButton = b.querySelector(\"button\");\n            if (currentButton && nextButton) {\n                return currentButton.textContent.localeCompare(nextButton.textContent);\n            }\n            return 0;\n        });\n        listArray.forEach((list) => {\n            articulationsDiv.appendChild(list);\n        });\n    }\n}\nfunction sortClassData(classData) {\n    classData.sort((a, b) => {\n        if (typeof a === \"string\") {\n            return 0;\n        }\n        if (typeof b === \"string\") {\n            return 0;\n        }\n        if (\"prefix\" in a && \"prefix\" in b) {\n            const prefixComparison = a.prefix.localeCompare(b.prefix);\n            if (prefixComparison !== 0)\n                return prefixComparison;\n        }\n        if (\"courseNumber\" in a && \"courseNumber\" in b) {\n            const courseNumberComparison = a.courseNumber.localeCompare(b.courseNumber);\n            if (courseNumberComparison !== 0)\n                return courseNumberComparison;\n        }\n        return 0;\n    });\n    return classData;\n}\nfunction renderItems(items, classListDiv) {\n    const sortedItems = sortClassData(items);\n    for (let i = 0; i < sortedItems.length;) {\n        const subitem = sortedItems[i];\n        if ((0, assistDataCheckers_1.isSeries)(subitem)) {\n            renderItems(subitem, classListDiv);\n        }\n        else if (typeof subitem === \"string\") {\n            if (subitem.toLowerCase() === \"and\") {\n                (0, elementPresets_1.connector)(subitem, classListDiv);\n            }\n            else if (subitem.toLowerCase() === \"or\") {\n                (0, elementPresets_1.conjunction)(subitem, classListDiv);\n            }\n        }\n        else if ((0, assistDataCheckers_1.isLowerDiv)(subitem)) {\n            const className = `${subitem.prefix} ${subitem.courseNumber} - ${subitem.courseTitle}`;\n            const courseElement = (0, elementPresets_1.course)(className, classListDiv);\n            if (subitem.cid) {\n                const cidElement = (0, elementPresets_1.cid)(subitem.cid);\n                courseElement.appendChild(cidElement);\n            }\n        }\n        i += 1;\n    }\n}\nfunction createClassLists(articulation) {\n    if (articulation && articulation.result) {\n        const { result } = articulation;\n        const courseCache = [];\n        let collegeName = \"\";\n        let agreementLink = \"\";\n        for (let i = 0; i < result.length;) {\n            const item = result[i];\n            if (item) {\n                if (typeof item == \"object\" && \"ccName\" in item) {\n                    collegeName = item.ccName;\n                }\n                else if (typeof item == \"object\" && \"agreementLink\" in item) {\n                    agreementLink = item.agreementLink;\n                }\n                else if (typeof item === \"string\" || (0, assistDataCheckers_1.isArticulation)(item)) {\n                    courseCache.push(item);\n                }\n                if (collegeName && agreementLink) {\n                    const classListDiv = (0, elementPresets_1.classListMainDiv)();\n                    (0, elementPresets_1.classListHeader)(classListDiv, collegeName, agreementLink);\n                    renderItems(courseCache, classListDiv);\n                }\n            }\n            i += 1;\n        }\n    }\n}\n","\"use strict\";\n/* eslint-disable import/no-cycle */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRandomLoadingGif = getRandomLoadingGif;\nexports.updateProgressTracker = updateProgressTracker;\nexports.createProgressTracker = createProgressTracker;\nexports.changeSelectedClassTxt = changeSelectedClassTxt;\nexports.resetResults = resetResults;\nexports.filterSeries = filterSeries;\nexports.abortHandler = abortHandler;\nexports.addBackBtnListener = addBackBtnListener;\nconst wait_for_element_transition_1 = __importDefault(require(\"wait-for-element-transition\"));\nconst cssTransitions_1 = require(\"./domFunctions/cssTransitions\");\nconst assistDataCheckers_1 = require(\"../interfaces/assistDataCheckers\");\nfunction getRandomLoadingGif(imgElement) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const response = yield fetch(process.env.LOADING_GIF_ENDPOINT, {\n            mode: \"cors\",\n        });\n        const gifData = yield response.json();\n        try {\n            if (gifData) {\n                imgElement.src = gifData.data.images.original.url;\n            }\n        }\n        catch (error) {\n            console.log(error);\n        }\n    });\n}\nfunction updateProgressTracker(collegesProcessed, totalColleges) {\n    const progressTracker = document.querySelector(\".progress-tracker\");\n    progressTracker.textContent = `${collegesProcessed} out of ${totalColleges} colleges searched`;\n}\nfunction createProgressTracker(linksLength) {\n    let totalProcessed = 0;\n    const updateProgress = (processed) => {\n        totalProcessed += processed;\n        updateProgressTracker(totalProcessed, linksLength);\n    };\n    return updateProgress;\n}\nfunction changeSelectedClassTxt(classString) {\n    const selectedClass = document.querySelector(\".selected-class\");\n    selectedClass.textContent = `Articulations for: ${classString}`;\n}\nfunction resetResults() {\n    const results = document.querySelector(\".results\");\n    const progressTracker = document.querySelector(\".progress-tracker\");\n    const selectedClass = document.querySelector(\".selected-class\");\n    const articulations = document.querySelector(\".articulations\");\n    const cidInput = document.querySelector(\".cids > input\");\n    (0, wait_for_element_transition_1.default)(results).then(() => {\n        articulations.replaceChildren();\n        progressTracker.textContent = \"\";\n        selectedClass.textContent = \"\";\n        cidInput.checked = false;\n    });\n}\nfunction filterSeries(series) {\n    for (let i = 0; i < series.length;) {\n        const item = series[i];\n        if ((0, assistDataCheckers_1.isSeriesIdObject)(item)) {\n            series.splice(i, 1);\n        }\n        i += 1;\n    }\n    return series;\n}\nfunction abortRequest(abortController) {\n    abortController.abort();\n    // clean code???????????\n    (0, cssTransitions_1.hideCidSlider)();\n    (0, cssTransitions_1.hideResults)();\n    (0, cssTransitions_1.hideBackButton)();\n    (0, cssTransitions_1.showSplash)();\n    resetResults();\n}\nfunction abortHandler(abortController) {\n    const abortButton = document.querySelector(\".back\");\n    let isAborted = false;\n    abortButton.addEventListener(\"click\", () => {\n        isAborted = true;\n        abortRequest(abortController);\n    });\n    return { signal: abortController.signal, isAborted };\n}\nfunction removeBackBtnListener(backHandler) {\n    const backButton = document.querySelector(\".back\");\n    backButton.removeEventListener(\"click\", backHandler);\n}\nfunction addBackBtnListener(removeToggleListener, toggleHandler) {\n    const backButton = document.querySelector(\".back\");\n    function backHandler() {\n        removeToggleListener(toggleHandler);\n        removeBackBtnListener(backHandler);\n    }\n    backButton.addEventListener(\"click\", backHandler);\n    return backHandler;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(156);\n"],"names":["getCssPropUnitMap","v","numParts","trim","match","num","unit","numString","split","Number","el","duration","getCssComputedProperty","prop","window","getComputedStyle","getPropertyValue","style","cssProp","replace","letter","toUpperCase","delayProp","durationProp","times","Array","isArray","delay","map","highest","push","apply","forEach","value","val","undefined","convertCssTimeValueToMilliseconds","getTransitionDuration","Promise","resolve","setTimeout","dialog","document","querySelector","form","img","results","loadingContainer","backButton","cidSlider","hideBackButton","opacity","then","async","display","showDialog","showModal","closeDialog","secondLine","removeChild","height","close","showLoadingText","loadingText","loading","hideLoadingText","applyDisabledState","formRow","row","select","children","querySelectorAll","disabled","node","setAttribute","removeDisabledState","startLoading","stopLoading","hideSplash","showRandomLoadingGif","getRandomLoadingGif","showResults","hideLoadingContainer","hideCidSlider","hideResults","showSplash","showCidSlider","disableCidSection","cidSection","label","toggle","enableCidSection","selectOption","id","keyword","option","createElement","textContent","lowerDivOption","text","defaultOption","selected","classListMainDiv","articulations","classListDiv","classList","add","append","classListHeader","parentDiv","collegeName","agreementLink","linkElement","href","target","course","className","parent","textElement","appendChild","connector","conjunction","noArticulations","processingPrompt","cacheFinalizeError","cid","cidText","spanElement","cidPrompt","secondLineDiv","line2","cidLink","__awaiter","this","thisArg","_arguments","P","generator","reject","fulfilled","step","next","e","rejected","result","done","Object","defineProperty","exports","articulationFetcher_1","assistDataRender_1","cssTransitions_1","utils_1","cids_1","elementPresets_1","schoolList","getElementById","majorList","yearList","selects","submit","closeDialogBtn","cidInfo","addEventListener","i","length","parentNode","renderFourYears","year","options","selectedIndex","selectedSchool","receivingId","dataset","sending","replaceChildren","renderMajorData","majorKey","key","renderLowerDivs","event","selectedClass","courseId","links","getArticulationParams","fullCourseId","changeSelectedClassTxt","articulationData","getArticulationData","updateProgress","toggleHandler","addToggleListener","addBackBtnListener","removeToggleListener","preventDefault","isLowerDiv","item","prefix","courseNumber","courseTitle","isSeriesIdObject","seriesId","isUnfilteredSeriesItem","isSeriesItem","isSeries","array","every","isUnfilteredSeries","isArticulation","articulationParams","schoolDataFetch_1","getCommunityColleges","college","link","createListFromDb","processingQueue","slice","abortController","AbortController","signal","isAborted","abortHandler","createProgressTracker","abort","linksLength","response","fetch","status","json","console","log","err","error","getClassFromDb","processChunks","organizeArticulations","body","JSON","stringify","method","headers","finalizeSearch","name","removeEventListener","processingQueue_1","signal_1","courseId_1","updateProgress_1","year_1","arguments","assistArticulations","linksChunk","splice","streamArticulations","linksList","endpoint","Connection","stream","reader","getReader","decoder","TextDecoder","accumulatedData","read","decode","end","indexOf","jsonString","articulation","parse","createClassLists","processStream","requestArticulations","state","handler","savedArticulations","cidsToggle","checked","checkForCids","showCids","newArticulations","appendCids","element","toggleCids","assistDataCheckers_1","communityColleges","schoolDataFetcher","fetchSchoolData","getFourYears","fourYears","getMajorData","majorData","data","values","getLowerDivs","lowerDivs","latestData","fetchLowerDivs","url","schoolData","placeholder","school","parentElement","majorObj","major","getClassName","getId","lowerDiv","classIndex","articulationsDiv","classLists","listArray","from","sort","a","b","currentButton","nextButton","localeCompare","list","courseCache","ccName","renderItems","objOrArray","formattedClass","seriesArray","seriesArrayCopy","filtered","filterSeries","seriesString","index","courseConnector","toLowerCase","getSeriesString","items","sortedItems","classData","prefixComparison","courseNumberComparison","subitem","courseElement","cidElement","__importDefault","mod","__esModule","imgElement","mode","gifData","src","images","original","updateProgressTracker","totalProcessed","processed","classString","resetResults","series","abortButton","abortRequest","backHandler","removeBackBtnListener","wait_for_element_transition_1","collegesProcessed","totalColleges","progressTracker","cidInput","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","call","n","getter","d","definition","o","enumerable","get","obj","prototype","hasOwnProperty","r","Symbol","toStringTag"],"sourceRoot":""}